(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{569:function(e,t,r){var content=r(739);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(120).default)("d533eba8",content,!0,{sourceMap:!1})},738:function(e,t,r){"use strict";r(569)},739:function(e,t,r){var n=r(119)((function(i){return i[1]}));n.push([e.i,'.ongoing-orders{display:flex;flex-direction:column;height:100%;margin:0;max-width:100%;padding:0}.orders-grid{grid-gap:24px;display:grid;flex:1;gap:24px;grid-template-columns:repeat(3,1fr);height:100%;margin-bottom:40px;min-height:0;padding:24px}@media(max-width:768px){.orders-grid{gap:16px;grid-template-columns:1fr;margin-bottom:24px;padding:16px}}.orders-column{background:#f8f9fa;border-radius:12px;box-shadow:0 4px 6px rgba(0,0,0,.05);display:flex;flex-direction:column;height:100%;min-height:0;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.orders-column:hover{box-shadow:0 6px 12px rgba(0,0,0,.08);transform:translateY(-2px)}.orders-column .column-header{align-items:center;background:#292c34;border-radius:12px 12px 0 0;cursor:pointer;display:flex;justify-content:space-between;padding:20px;transition:background-color .2s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none}.orders-column .column-header h2{color:#d5f6e5;font-size:1.25em;font-weight:600;letter-spacing:.5px;margin:0}.orders-column .orders-list{flex:1;height:calc(100% - 64px);overflow-y:auto;padding:20px;transition:all .3s ease}.orders-column .orders-list::-webkit-scrollbar{width:8px}.orders-column .orders-list::-webkit-scrollbar-track{background:#f8f9fa;border-radius:4px}.orders-column .orders-list::-webkit-scrollbar-thumb{background:#ddd;border-radius:4px}.orders-column .orders-list::-webkit-scrollbar-thumb:hover{background:#ccc}.count-badge{background:#d5f6e5;border-radius:20px;box-shadow:0 2px 4px rgba(0,0,0,.05);color:#292c34;font-size:.9em;font-weight:600;letter-spacing:.5px;padding:4px 12px}.order-card{background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.06);margin-bottom:20px;transition:transform .2s ease,box-shadow .2s ease}.order-card:hover{box-shadow:0 4px 12px rgba(0,0,0,.08);transform:translateY(-2px)}.order-card .order-header{align-items:center;background:#f8f9fa;border-radius:12px 12px 0 0;cursor:pointer;display:flex;justify-content:space-between;padding:16px 20px;transition:background-color .2s ease}.order-card .order-header:hover{background:#f0f2f5}.order-card .order-header .header-left{align-items:flex-start;display:flex;flex:1;gap:12px;min-width:0}.order-card .order-header .header-left .store-name{color:#292c34;font-size:.95em;font-weight:600;line-height:1.4;word-break:break-word}.order-card .order-header .order-status{align-items:center;background:#e8eaed;border-radius:20px;display:flex;flex-shrink:0;font-size:.9em;font-weight:500;gap:8px;padding:6px 14px;transition:background-color .2s ease}.order-card .order-header .order-status .material-icons{font-size:18px}.order-card .order-header .order-status:hover{background:#e0e2e6}.order-card.is-warning{border-left:4px solid #f44}.order-card.is-warning .order-header{background:#fff5f5;padding-left:16px}.order-card.is-warning .order-header:hover{background:#ffe8e8}.order-card.is-warning .order-header .header-left:before{color:#f44;content:"warning";font-family:"Material Icons";font-size:18px;margin-top:2px}.order-details{background:#fff;border-radius:0 0 12px 12px;padding:24px}.info-grid{grid-gap:20px;display:grid;gap:20px;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));margin-bottom:28px}.info-grid .info-item{background:#f8f9fa;border-radius:8px;padding:12px;transition:background-color .2s ease}.info-grid .info-item:hover{background:#f0f2f5}.info-grid .info-item label{color:#4a5568;font-size:.9em;font-weight:600;margin-right:8px}.info-grid .info-item span{color:#1a202c;font-size:.95em}.toggle-items-btn{align-items:center;background:#f0f7ff;border:2px solid #1bb776;border-radius:8px;color:#1bb776;cursor:pointer;display:flex;font-size:.95em;font-weight:600;gap:8px;justify-content:center;padding:10px 20px;transition:all .2s ease;width:100%}.toggle-items-btn:hover{background:#e8f7f1;box-shadow:0 2px 4px rgba(27,183,118,.1);transform:translateY(-1px)}.toggle-items-btn:active{transform:translateY(0)}.toggle-items-btn .btn-icon{font-size:.8em;transition:transform .3s ease}.toggle-items-btn .btn-icon.is-up{transform:rotate(-180deg)}.items-table{border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,.05);margin-top:20px;overflow:hidden}.items-table table{border-collapse:collapse;width:100%}.items-table table td,.items-table table th{border-bottom:1px solid #edf2f7;padding:14px}.items-table table th{background:#f8f9fa;color:#4a5568;font-size:.9em;font-weight:600;letter-spacing:.5px;text-transform:uppercase}.items-table table td{color:#1a202c;font-size:.95em}.items-table table tr:last-child td{border-bottom:none}.empty-state,.items-table table tr:hover td{background:#f8f9fa}.empty-state{border-radius:8px;color:#718096;font-style:italic;margin:12px 0;padding:24px;text-align:center}.delay-badge{border-radius:20px;box-shadow:0 2px 4px rgba(255,68,68,.2);font-size:.8em;font-weight:500;letter-spacing:.5px;padding:4px 12px}.statistics-section{border-radius:12px;box-shadow:0 4px 6px rgba(0,0,0,.05);margin:0 24px 24px;padding:24px}.statistics-section .stats-header{margin-bottom:28px}.statistics-section .stats-title{font-size:1.6em;font-weight:600;letter-spacing:.5px;margin-bottom:8px}.statistics-section .stats-title .date-line{align-items:center;display:flex;font-size:.8em;gap:8px;justify-content:center;margin-top:8px}.statistics-section .stats-title .date-icon{font-size:1em}.delivery-stat-card{background:#f8f9fa;border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,.05);padding:24px;transition:transform .2s ease,box-shadow .2s ease}.delivery-stat-card:hover{box-shadow:0 4px 12px rgba(0,0,0,.08);transform:translateY(-2px)}.delivery-stat-card .material-icons{font-size:2.2em;margin-bottom:8px}.delivery-stat-card .delivery-stat-value{font-size:1.8em;margin:8px 0}.delivery-stat-card .delivery-stat-label{color:#4a5568;font-size:1em;font-weight:500;margin-bottom:8px}.delivery-stat-card .delivery-stat-amount{font-size:1em;font-weight:600}.date-picker-wrapper{border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1);padding:24px}.date-picker-wrapper .date-input label{color:#4a5568;font-weight:500;margin-bottom:4px}.date-picker-wrapper .date-input input{border:2px solid #e2e8f0;border-radius:8px;font-size:.95em;padding:10px;transition:all .2s ease}.date-picker-wrapper .date-input input:focus{border-color:#1bb776;box-shadow:0 0 0 3px rgba(27,183,118,.1)}@media(min-width:769px){.column-header{cursor:default}.column-header:hover{opacity:1}}.column-header.is-clickable{cursor:pointer}.column-header.is-clickable:hover{opacity:.9}.u-left{text-align:left}.u-right{text-align:right}.delay-badge{background:#f44;border-radius:8px;color:#fff;font-size:.5em;margin-left:8px;padding:2px 8px}.status-wrapper{align-items:center;display:flex;gap:8px}.statistics-section{background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.1);margin:0 20px;padding:20px 20px 0}.statistics-section .stats-header{display:flex;flex-direction:column;gap:16px;margin-bottom:24px}.statistics-section .store-filters{margin-bottom:3em;margin-top:3em}.statistics-section .store-filters .store-filters-wrapper{align-items:center;display:flex;flex-wrap:wrap;gap:4px;justify-content:center;max-width:100%;padding:0 16px}.statistics-section .store-filter-wrapper{align-items:center;display:inline-flex}.statistics-section .store-filter-btn{background:#f5f5f5;border:1px solid #ddd;border-radius:16px;color:#999;cursor:pointer;font-size:.9em;padding:6px 12px;transition:all .2s ease}.statistics-section .store-filter-btn:hover{background:#e8f7f1;border-color:#1bb776;color:#1bb776}.statistics-section .store-filter-btn.active{background:#1bb776;border-color:#1bb776;color:#fff}.statistics-section .store-filter-btn.unmark-all{align-items:center;background:#f5f5f5;border-color:#ddd;color:#999;display:inline-flex;height:20px;justify-content:center;margin-left:8px;min-width:20px;padding:1px}.statistics-section .store-filter-btn.unmark-all .material-icons{font-size:14px}.statistics-section .store-filter-btn.unmark-all:hover{background:#f0f0f0;border-color:#999;color:#666}@media(max-width:768px){.statistics-section .store-filter-btn{font-size:.8em;padding:4px 10px}}.statistics-section .stats-title{color:#292c34;font-size:1.5em;margin:0;text-align:center}.statistics-section h3{color:#292c34;margin:0 0 16px}.statistics-section .delivery-stats-grid{grid-gap:20px;display:grid;gap:20px;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));margin-bottom:24px}.statistics-section .stats-grid,.stats-grid{grid-gap:20px;display:grid;gap:20px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.stats-grid{margin-bottom:24px}.stat-card{background:#f5f5f5;border-radius:8px;padding:16px;text-align:center}.stat-card h3{font-size:1em;margin:0 0 8px}.stat-card .stat-value{color:#1bb776;font-size:1.5em;font-weight:700}.orders-summary{background:#f5f5f5;border-radius:8px;padding:16px}.summary-grid{grid-gap:16px;display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.summary-item{align-items:center;background:#fff;border-radius:4px;display:flex;justify-content:space-between;padding:8px}.summary-item .summary-label{color:#666;font-weight:500}.summary-item .summary-value{color:#292c34;font-weight:700}@media(max-width:768px){.statistics-section{margin:10px}.stats-grid,.summary-grid{gap:10px;grid-template-columns:1fr}}.delivery-stats-grid{grid-gap:20px;display:grid;gap:20px;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));margin-top:24px}.delivery-stat-card{align-items:center;background:#f5f5f5;border-radius:8px;display:flex;flex-direction:column;gap:8px;padding:16px;text-align:center}.delivery-stat-card .material-icons{color:#292c34;font-size:2em}.delivery-stat-card .delivery-stat-value{color:#1bb776;font-size:1.5em;font-weight:700}.delivery-stat-card .delivery-stat-label{color:#666;font-size:.9em}.delivery-stat-card .delivery-stat-amount{color:#1bb776;font-size:.9em;font-weight:500}.date-selector{align-items:center;border-radius:4px;color:#666;cursor:pointer;display:flex;gap:8px;justify-content:center;padding:8px;transition:all .2s ease}.date-selector:hover{background:#f5f5f5;color:#1bb776}.date-selector .material-icons{font-size:18px}.date-picker-container{display:flex;justify-content:center;margin-top:16px;position:relative;width:100%}.date-picker-wrapper{align-items:flex-end;background:#fff;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);display:flex;gap:16px;padding:16px 60px 16px 16px;position:relative;z-index:100}@media(max-width:768px){.date-picker-wrapper{align-items:stretch;flex-direction:column;gap:12px;margin:0 16px;padding:16px 60px 16px 16px;width:100%}}.date-input{display:flex;flex-direction:column;gap:4px}.date-input label{color:#666;font-size:.9em}.date-input input{border:1px solid #ddd;border-radius:4px;font-size:.9em;padding:8px}.date-input input:focus{border-color:#1bb776;outline:none}.close-date-picker-btn{align-items:center;background:none;border:none;border-radius:4px;color:#666;cursor:pointer;display:flex;justify-content:center;padding:8px;position:absolute;right:8px;top:8px;transition:all .2s ease}.close-date-picker-btn:hover{background:#f5f5f5;color:#f44}.close-date-picker-btn .material-icons{font-size:20px}.clickable-date{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.clickable-date:hover{color:#1bb776}.loading-spinner{animation:spin .8s linear infinite;border:2px solid #fff;border-radius:50%;border-top-color:transparent;height:20px;width:20px}.stats-loading{align-items:center;display:flex;justify-content:center;min-height:200px}.stats-loading .loading-spinner{border-color:transparent #1bb776 #1bb776;border-width:3px;height:40px;width:40px}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.reset-date-btn{align-items:center;background:none;border:none;border-radius:4px;color:#666;cursor:pointer;display:flex;justify-content:center;padding:8px;position:absolute;right:40px;top:8px;transition:all .2s ease}.reset-date-btn:hover{background:#f5f5f5;color:#1bb776}.reset-date-btn .material-icons{font-size:20px}',""]),n.locals={},e.exports=n},842:function(e,t,r){"use strict";r.r(t);r(27),r(57),r(61),r(29),r(28),r(51),r(33),r(52);var n=r(19),o=r(10),d=(r(308),r(41),r(13),r(50),r(30),r(31),r(73),r(68),r(42),r(494)),l=r(495),c=r(204),v=r(497);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={components:{AdminPage:d.default,LoginModal:v.default,Loading:l.default},data:function(){return{showLogin:!1,isLoading:!1,orders:[],statistics:null,deliveryStats:{pickup:null,delivery:null,table:null},showOrderId:"",showOrderItemsOfOrderId:"",collapsedColumns:{new:!1,processing:!1,ready:!1},isMobile:!1,refreshInterval:null,selectedStoreIds:[],adminStores:[],currentDate:new Date,debouncedLoadStatistics:null,showDatePicker:!1,dateRange:{from:(new Date).toISOString().split("T")[0],to:(new Date).toISOString().split("T")[0]},isLoadingStats:!1}},computed:{newOrders:function(){return this.orders.filter((function(e){return"Accepted"===e.status})).sort((function(a,b){return new Date(a.created)-new Date(b.created)}))},processingOrders:function(){return this.orders.filter((function(e){return"Processing"===e.status})).sort((function(a,b){return new Date(a.created)-new Date(b.created)}))},readyOrders:function(){return this.orders.filter((function(e){return["Ready","ReadyForPickup","ReadyForDriver"].includes(e.status)})).sort((function(a,b){return new Date(a.created)-new Date(b.created)}))}},mounted:function(){this.$store.getters.userIsLoggedIn?(this.adminStores=this.$store.state.currentUser.adminIn,this.selectedStoreIds=this.adminStores.map((function(e){return e.id})),this.loadOrders(),this.loadStatistics(),this.checkMobile(),window.addEventListener("resize",this.checkMobile),this.startAutoRefresh()):this.showLogin=!0},beforeDestroy:function(){window.removeEventListener("resize",this.checkMobile),this.stopAutoRefresh()},created:function(){this.debouncedLoadStatistics=Object(c.a)(this.loadStatistics,1e3)},methods:{closeLoginModal:function(e){this.showLogin=!e,e&&this.loadOrders()},loadOrders:function(){var e=this;this.isLoading=!0,this._orderService.GetAllOngoing().then((function(t){e.orders=t})).finally((function(){e.isLoading=!1}))},loadStatistics:function(){var e=this;this.isLoadingStats=!0;var t={storeIds:this.selectedStoreIds,from:this.dateRange.from,to:this.dateRange.to,statuses:["Completed"],paymentTypes:["PayInStore","Stripe","Vipps","Giftcard","Dintero","DinteroVipps","DinteroBillie","DinteroKlarna"]},r=[this._statisticsService.Get(m(m({},t),{},{deliveryTypes:["SelfPickup","InstantHomeDelivery","WoltDelivery","TableDelivery"]})),this._statisticsService.Get(m(m({},t),{},{deliveryTypes:["SelfPickup"]})),this._statisticsService.Get(m(m({},t),{},{deliveryTypes:["InstantHomeDelivery","WoltDelivery"]})),this._statisticsService.Get(m(m({},t),{},{deliveryTypes:["TableDelivery"]}))];Promise.all(r).then((function(t){var r=Object(n.a)(t,4),o=r[0],d=r[1],l=r[2],c=r[3];e.statistics=o,e.deliveryStats={pickup:d,delivery:l,table:c}})).catch((function(e){console.error("Failed to load statistics:",e)})).finally((function(){e.isLoadingStats=!1}))},checkMobile:function(){this.isMobile=window.innerWidth<=768,this.isMobile?this.collapsedColumns={new:!this.newOrders.length,processing:!this.processingOrders.length,ready:!this.readyOrders.length}:this.collapsedColumns={new:!1,processing:!1,ready:!1}},startAutoRefresh:function(){var e=this;this.refreshInterval=setInterval((function(){e._orderService.GetAllOngoing().then((function(t){e.orders=t}));var t={storeIds:e.selectedStoreIds,from:e.dateRange.from,to:e.dateRange.to,statuses:["Completed"],paymentTypes:["PayInStore","Stripe","Vipps","Giftcard","Dintero","DinteroVipps","DinteroBillie","DinteroKlarna"]},r=[e._statisticsService.Get(m(m({},t),{},{deliveryTypes:["SelfPickup","InstantHomeDelivery","WoltDelivery","TableDelivery"]})),e._statisticsService.Get(m(m({},t),{},{deliveryTypes:["SelfPickup"]})),e._statisticsService.Get(m(m({},t),{},{deliveryTypes:["InstantHomeDelivery","WoltDelivery"]})),e._statisticsService.Get(m(m({},t),{},{deliveryTypes:["TableDelivery"]}))];Promise.all(r).then((function(t){var r=Object(n.a)(t,4),o=r[0],d=r[1],l=r[2],c=r[3];e.statistics=o,e.deliveryStats={pickup:d,delivery:l,table:c}})).catch((function(e){console.error("Failed to load statistics:",e)}))}),7e3)},stopAutoRefresh:function(){this.refreshInterval&&clearInterval(this.refreshInterval)},iconForOrder:function(e){return"InstantHomeDelivery"===e.deliveryType||"DineHomeDelivery"===e.deliveryType||"WoltDelivery"===e.deliveryType?"delivery_dining":"SelfPickup"===e.deliveryType?"shopping_bag":"TableDelivery"===e.deliveryType?"deck":"receipt_long"},isOrderDelayed:function(e){var t=new Date,r=new Date(e.created),n=e.processingEndTime?new Date(e.processingEndTime):null,o=e.estimatedProcessingEndTime?new Date(e.estimatedProcessingEndTime):null;return"Accepted"===e.status?(t-r)/1e3>=480:!("ReadyForDriver"!==e.status||!n||!o)&&((t-(n>o?n:o))/1e3>=600&&(!e.dineHomeStatus||"NotSet"===e.dineHomeStatus||"Accepted"===e.dineHomeStatus))},getDriverDelay:function(e){var t=new Date,r=e.processingEndTime?new Date(e.processingEndTime):null,n=e.estimatedProcessingEndTime?new Date(e.estimatedProcessingEndTime):null;if("ReadyForDriver"===e.status&&r&&n&&(!e.dineHomeStatus||"NotSet"===e.dineHomeStatus||"Accepted"===e.dineHomeStatus)){var o=r>n?r:n,d=Math.floor((t-o)/6e4);return d>=10?d:0}return 0},dineHomeDeliveryStatusLabel:function(e){switch(e){case"Accepted":return"Sjåfør har akseptert";case"PickedUp":return"Sjåfør leverer bestilling";case"ReachedDestination":return"Sjåfør fremme hos kunde";case"Completed":return"Fullført";case"Canceled":return"Sjåfør har kansellert";default:return"Venter aksept fra sjåfør"}},formatStatValue:function(e){return e.headingValueIsPrice?this.priceLabel(e.headingValue):e.headingValue},getDeliveryTypeCount:function(e){var t,r,n;if(!this.deliveryStats)return 0;switch(e){case"SelfPickup":return(null===(t=this.deliveryStats.pickup)||void 0===t||null===(t=t.charts)||void 0===t||null===(t=t.find((function(e){return"Antall bestillinger totalt"===e.headingKey})))||void 0===t?void 0:t.headingValue)||0;case"InstantHomeDelivery":case"WoltDelivery":return(null===(r=this.deliveryStats.delivery)||void 0===r||null===(r=r.charts)||void 0===r||null===(r=r.find((function(e){return"Antall bestillinger totalt"===e.headingKey})))||void 0===r?void 0:r.headingValue)||0;case"TableDelivery":return(null===(n=this.deliveryStats.table)||void 0===n||null===(n=n.charts)||void 0===n||null===(n=n.find((function(e){return"Antall bestillinger totalt"===e.headingKey})))||void 0===n?void 0:n.headingValue)||0;default:return 0}},getDeliveryTypeAmount:function(e){var t,r,n;if(!this.deliveryStats)return this.priceLabel(0);switch(e){case"SelfPickup":return this.priceLabel((null===(t=this.deliveryStats.pickup)||void 0===t||null===(t=t.charts)||void 0===t||null===(t=t.find((function(e){return"Sum"===e.headingKey})))||void 0===t?void 0:t.headingValue)||0);case"InstantHomeDelivery":case"WoltDelivery":return this.priceLabel((null===(r=this.deliveryStats.delivery)||void 0===r||null===(r=r.charts)||void 0===r||null===(r=r.find((function(e){return"Sum"===e.headingKey})))||void 0===r?void 0:r.headingValue)||0);case"TableDelivery":return this.priceLabel((null===(n=this.deliveryStats.table)||void 0===n||null===(n=n.charts)||void 0===n||null===(n=n.find((function(e){return"Sum"===e.headingKey})))||void 0===n?void 0:n.headingValue)||0);default:return this.priceLabel(0)}},toggleStore:function(e){this.selectedStoreIds.includes(e)?this.selectedStoreIds=this.selectedStoreIds.filter((function(t){return t!==e})):this.selectedStoreIds.push(e),this.debouncedLoadStatistics()},formatDayAndDate:function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Date(e),n=["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"][r.getDay()],o=r.toLocaleDateString("nb-NO",{day:"numeric",month:t.showMonth?"long":void 0,year:t.showYear?"numeric":void 0});return t.showDayName?"".concat(n," ").concat(o):o},t=new Date(this.dateRange.from),r=new Date(this.dateRange.to);return this.dateRange.from===this.dateRange.to?e(t,{showDayName:!0,showMonth:!0}):t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()?"".concat(e(t,{showDayName:!0})," - ").concat(e(r,{showDayName:!0,showMonth:!0})):t.getFullYear()===r.getFullYear()?"".concat(e(t,{showDayName:!0,showMonth:!0})," - ").concat(e(r,{showDayName:!0,showMonth:!0})):"".concat(e(t,{showDayName:!0,showMonth:!0,showYear:!0})," - ").concat(e(r,{showDayName:!0,showMonth:!0,showYear:!0}))},unmarkAllStores:function(){this.selectedStoreIds=[],this.debouncedLoadStatistics()},applyDateRange:function(){this.loadStatistics()},resetDateRange:function(){var e=(new Date).toISOString().split("T")[0];this.dateRange.from=e,this.dateRange.to=e,this.applyDateRange(),this.showDatePicker=!1}}},_=h,y=(r(738),r(78)),component=Object(y.a)(_,(function(){var e=this,t=e._self._c;return t("AdminPage",[t("div",{staticClass:"ongoing-orders"},[e.isLoading?t("Loading",{attrs:{loading:!0}}):e._e(),e._v(" "),t("div",{staticClass:"orders-grid"},[t("div",{staticClass:"orders-column",class:{"is-collapsed":e.isMobile&&e.collapsedColumns.new}},[t("div",{staticClass:"column-header",class:{"is-clickable":e.isMobile&&e.newOrders.length},on:{click:function(t){e.isMobile&&e.newOrders.length&&(e.collapsedColumns.new=!e.collapsedColumns.new)}}},[t("h2",[e._v("Nye")]),e._v(" "),e.newOrders.length?t("span",{staticClass:"count-badge"},[e._v(e._s(e.newOrders.length))]):e._e()]),e._v(" "),e.isMobile&&e.collapsedColumns.new||!e.newOrders.length?e.isMobile&&e.collapsedColumns.new?e._e():t("div",{staticClass:"empty-state"},[e._v("\n          Ingen nye ordrer\n        ")]):t("div",{staticClass:"orders-list"},e._l(e.newOrders,(function(r){return t("div",{key:r.id,staticClass:"order-card",class:{"is-warning":e.isOrderDelayed(r)}},[t("div",{staticClass:"order-header",on:{click:function(t){e.showOrderId===r.id?e.showOrderId="":e.showOrderId=r.id}}},[t("div",{staticClass:"header-left"},[t("span",{staticClass:"store-name"},[e._v(e._s(r.storeLegalName))])]),e._v(" "),t("span",{staticClass:"order-status"},[t("span",{staticClass:"material-icons"},[e._v(e._s(e.iconForOrder(r)))]),e._v("\n                "+e._s(r.friendlyOrderId)+"\n              ")])]),e._v(" "),e.showOrderId===r.id?t("div",{staticClass:"order-details"},[t("div",{staticClass:"info-grid"},[t("div",{staticClass:"info-item"},[t("label",[e._v("Platform:")]),e._v(" "),t("span",[e._v(e._s(r.platform))])]),e._v(" "),"DineHomeDelivery"===r.deliveryType?t("div",{staticClass:"info-item"},[t("label",[e._v("Sjåførstatus:")]),e._v(" "),t("div",{staticClass:"status-wrapper"},[t("span",[e._v(e._s(e.dineHomeDeliveryStatusLabel(r.dineHomeStatus)))]),e._v(" "),e.getDriverDelay(r)>0?t("span",{staticClass:"delay-badge"},[e._v("\n                      "+e._s(e.getDriverDelay(r))+" min forsinket\n                    ")]):e._e()])]):e._e(),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Bestilit:")]),e._v(" "),t("span",[e._v(e._s(e.formatDate(r.created||r.pickup)))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Klar til:")]),e._v(" "),r.countdownEndTime?t("span",[e._v(e._s(e.formatDate(r.countdownEndTime)))]):e._e()]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Totalpris:")]),e._v(" "),t("span",[e._v(e._s(e.priceLabel(r.finalAmount)))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Levering:")]),e._v(" "),t("span",[e._v(e._s(e.deliveryTypeLabel(r.deliveryType)))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Betaling:")]),e._v(" "),t("span",[e._v(e._s(e.paymentTypeLabel(r.paymentType)))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Kommentar:")]),e._v(" "),t("span",[e._v(e._s(r.comment))])])]),e._v(" "),t("div",{staticClass:"order-items"},[t("button",{staticClass:"toggle-items-btn",on:{click:function(t){e.showOrderItemsOfOrderId===r.id?e.showOrderItemsOfOrderId="":e.showOrderItemsOfOrderId=r.id}}},[t("span",{staticClass:"btn-text"},[e._v(e._s(e.showOrderItemsOfOrderId!==r.id?"Vis varer":"Skjul varer"))]),e._v(" "),t("span",{staticClass:"btn-icon",class:{"is-up":e.showOrderItemsOfOrderId===r.id}},[e._v("▼")])]),e._v(" "),e.showOrderItemsOfOrderId===r.id?t("div",{staticClass:"items-table"},[t("table",[t("thead",[t("tr",[t("th",{staticClass:"u-left"},[e._v("Vare")]),e._v(" "),t("th",{staticClass:"u-right"},[e._v("Pris")])])]),e._v(" "),t("tbody",e._l(r.items,(function(r){return t("tr",{key:r.id},[t("td",[e._v(e._s(r.quantity)+" "+e._s(r.name)+" (Mva: "+e._s(r.tax)+"%)")]),e._v(" "),t("td",{staticClass:"u-right"},[e._v("\n                          "+e._s(e.priceLabel(r.amount))+"\n                        ")])])})),0)])]):e._e()])]):e._e()])})),0)]),e._v(" "),t("div",{staticClass:"orders-column",class:{"is-collapsed":e.isMobile&&e.collapsedColumns.processing}},[t("div",{staticClass:"column-header",on:{click:function(t){e.isMobile&&(e.collapsedColumns.processing=!e.collapsedColumns.processing)}}},[t("h2",[e._v("Pågående")]),e._v(" "),e.processingOrders.length?t("span",{staticClass:"count-badge"},[e._v(e._s(e.processingOrders.length))]):e._e()]),e._v(" "),e.isMobile&&e.collapsedColumns.processing?e._e():t("div",{staticClass:"orders-list"},[e.processingOrders.length?t("div",e._l(e.processingOrders,(function(r){return t("div",{key:r.id,staticClass:"order-card",class:{"is-warning":e.isOrderDelayed(r)}},[t("div",{staticClass:"order-header",on:{click:function(t){e.showOrderId===r.id?e.showOrderId="":e.showOrderId=r.id}}},[t("div",{staticClass:"header-left"},[t("span",{staticClass:"store-name"},[e._v(e._s(r.storeLegalName))])]),e._v(" "),t("span",{staticClass:"order-status"},[t("span",{staticClass:"material-icons"},[e._v(e._s(e.iconForOrder(r)))]),e._v("\n                  "+e._s(r.friendlyOrderId)+"\n                ")])]),e._v(" "),e.showOrderId===r.id?t("div",{staticClass:"order-details"},[t("div",{staticClass:"info-grid"},[t("div",{staticClass:"info-item"},[t("label",[e._v("Platform:")]),e._v(" "),t("span",[e._v(e._s(r.platform))])]),e._v(" "),"DineHomeDelivery"===r.deliveryType?t("div",{staticClass:"info-item"},[t("label",[e._v("Sjåførstatus:")]),e._v(" "),t("div",{staticClass:"status-wrapper"},[t("span",[e._v(e._s(e.dineHomeDeliveryStatusLabel(r.dineHomeStatus)))]),e._v(" "),e.getDriverDelay(r)>0?t("span",{staticClass:"delay-badge"},[e._v("\n                        "+e._s(e.getDriverDelay(r))+" min forsinket\n                      ")]):e._e()])]):e._e(),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Bestilit:")]),e._v(" "),t("span",[e._v(e._s(e.formatDate(r.created||r.pickup)))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Klar til:")]),e._v(" "),r.countdownEndTime?t("span",[e._v(e._s(e.formatDate(r.countdownEndTime)))]):e._e()]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Totalpris:")]),e._v(" "),t("span",[e._v(e._s(e.priceLabel(r.finalAmount)))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Levering:")]),e._v(" "),t("span",[e._v(e._s(e.deliveryTypeLabel(r.deliveryType)))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Betaling:")]),e._v(" "),t("span",[e._v(e._s(e.paymentTypeLabel(r.paymentType)))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Kommentar:")]),e._v(" "),t("span",[e._v(e._s(r.comment))])])]),e._v(" "),t("div",{staticClass:"order-items"},[t("button",{staticClass:"toggle-items-btn",on:{click:function(t){e.showOrderItemsOfOrderId===r.id?e.showOrderItemsOfOrderId="":e.showOrderItemsOfOrderId=r.id}}},[t("span",{staticClass:"btn-text"},[e._v(e._s(e.showOrderItemsOfOrderId!==r.id?"Vis varer":"Skjul varer"))]),e._v(" "),t("span",{staticClass:"btn-icon",class:{"is-up":e.showOrderItemsOfOrderId===r.id}},[e._v("▼")])]),e._v(" "),e.showOrderItemsOfOrderId===r.id?t("div",{staticClass:"items-table"},[t("table",[t("thead",[t("tr",[t("th",{staticClass:"u-left"},[e._v("Vare")]),e._v(" "),t("th",{staticClass:"u-right"},[e._v("Pris")])])]),e._v(" "),t("tbody",e._l(r.items,(function(r){return t("tr",{key:r.id},[t("td",[e._v(e._s(r.quantity)+" "+e._s(r.name)+" (Mva: "+e._s(r.tax)+"%)")]),e._v(" "),t("td",{staticClass:"u-right"},[e._v("\n                            "+e._s(e.priceLabel(r.amount))+"\n                          ")])])})),0)])]):e._e()])]):e._e()])})),0):t("div",{staticClass:"empty-state"},[e._v("\n            Ingen pågående ordrer\n          ")])])]),e._v(" "),t("div",{staticClass:"orders-column",class:{"is-collapsed":e.isMobile&&e.collapsedColumns.ready}},[t("div",{staticClass:"column-header",on:{click:function(t){e.isMobile&&(e.collapsedColumns.ready=!e.collapsedColumns.ready)}}},[t("h2",[e._v("Klar")]),e._v(" "),e.readyOrders.length?t("span",{staticClass:"count-badge"},[e._v(e._s(e.readyOrders.length))]):e._e()]),e._v(" "),e.isMobile&&e.collapsedColumns.ready?e._e():t("div",{staticClass:"orders-list"},[e.readyOrders.length?t("div",e._l(e.readyOrders,(function(r){return t("div",{key:r.id,staticClass:"order-card",class:{"is-warning":e.isOrderDelayed(r)}},[t("div",{staticClass:"order-header",on:{click:function(t){e.showOrderId===r.id?e.showOrderId="":e.showOrderId=r.id}}},[t("div",{staticClass:"header-left"},[t("span",{staticClass:"store-name"},[e._v(e._s(r.storeLegalName))])]),e._v(" "),t("span",{staticClass:"order-status"},[t("span",{staticClass:"material-icons"},[e._v(e._s(e.iconForOrder(r)))]),e._v("\n                  "+e._s(r.friendlyOrderId)+"\n                ")])]),e._v(" "),e.showOrderId===r.id?t("div",{staticClass:"order-details"},[t("div",{staticClass:"info-grid"},[t("div",{staticClass:"info-item"},[t("label",[e._v("Platform:")]),e._v(" "),t("span",[e._v(e._s(r.platform))])]),e._v(" "),"DineHomeDelivery"===r.deliveryType?t("div",{staticClass:"info-item"},[t("label",[e._v("Sjåførstatus:")]),e._v(" "),t("div",{staticClass:"status-wrapper"},[t("span",[e._v(e._s(e.dineHomeDeliveryStatusLabel(r.dineHomeStatus)))]),e._v(" "),e.getDriverDelay(r)>0?t("span",{staticClass:"delay-badge"},[e._v("\n                        "+e._s(e.getDriverDelay(r))+" min forsinket\n                      ")]):e._e()])]):e._e(),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Bestilit:")]),e._v(" "),t("span",[e._v(e._s(e.formatDate(r.created||r.pickup)))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Klar til:")]),e._v(" "),r.countdownEndTime?t("span",[e._v(e._s(e.formatDate(r.countdownEndTime)))]):e._e()]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Totalpris:")]),e._v(" "),t("span",[e._v(e._s(e.priceLabel(r.finalAmount)))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Levering:")]),e._v(" "),t("span",[e._v(e._s(e.deliveryTypeLabel(r.deliveryType)))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Betaling:")]),e._v(" "),t("span",[e._v(e._s(e.paymentTypeLabel(r.paymentType)))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("label",[e._v("Kommentar:")]),e._v(" "),t("span",[e._v(e._s(r.comment))])])]),e._v(" "),t("div",{staticClass:"order-items"},[t("button",{staticClass:"toggle-items-btn",on:{click:function(t){e.showOrderItemsOfOrderId===r.id?e.showOrderItemsOfOrderId="":e.showOrderItemsOfOrderId=r.id}}},[t("span",{staticClass:"btn-text"},[e._v(e._s(e.showOrderItemsOfOrderId!==r.id?"Vis varer":"Skjul varer"))]),e._v(" "),t("span",{staticClass:"btn-icon",class:{"is-up":e.showOrderItemsOfOrderId===r.id}},[e._v("▼")])]),e._v(" "),e.showOrderItemsOfOrderId===r.id?t("div",{staticClass:"items-table"},[t("table",[t("thead",[t("tr",[t("th",{staticClass:"u-left"},[e._v("Vare")]),e._v(" "),t("th",{staticClass:"u-right"},[e._v("Pris")])])]),e._v(" "),t("tbody",e._l(r.items,(function(r){return t("tr",{key:r.id},[t("td",[e._v(e._s(r.quantity)+" "+e._s(r.name)+" (Mva: "+e._s(r.tax)+"%)")]),e._v(" "),t("td",{staticClass:"u-right"},[e._v("\n                            "+e._s(e.priceLabel(r.amount))+"\n                          ")])])})),0)])]):e._e()])]):e._e()])})),0):t("div",{staticClass:"empty-state"},[e._v("\n            Ingen klare ordrer\n          ")])])])]),e._v(" "),e.statistics?t("div",{staticClass:"statistics-section"},[t("div",{staticClass:"stats-header"},[t("h2",{staticClass:"stats-title"},[e._v("\n          Fullførte bestillinger\n          "),t("div",{staticClass:"date-line"},[t("span",{staticClass:"clickable-date",on:{click:function(t){e.showDatePicker=!e.showDatePicker}}},[e._v(e._s(e.formatDayAndDate())+"\n              "),t("span",{staticClass:"material-icons date-icon"},[e._v("calendar_today")])]),e._v(" "),e.dateRange.from!==(new Date).toISOString().split("T")[0]||e.dateRange.to!==(new Date).toISOString().split("T")[0]?t("span",{staticClass:"material-icons date-icon",staticStyle:{cursor:"pointer"},on:{click:e.resetDateRange}},[e._v("restart_alt")]):e._e()])]),e._v(" "),e.showDatePicker?t("div",{staticClass:"date-picker-container"},[t("div",{staticClass:"date-picker-wrapper"},[t("div",{staticClass:"date-input"},[t("label",[e._v("Fra dato:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.dateRange.from,expression:"dateRange.from"}],attrs:{type:"date",max:e.dateRange.to},domProps:{value:e.dateRange.from},on:{change:e.applyDateRange,input:function(t){t.target.composing||e.$set(e.dateRange,"from",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"date-input"},[t("label",[e._v("Til dato:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.dateRange.to,expression:"dateRange.to"}],attrs:{type:"date",min:e.dateRange.from},domProps:{value:e.dateRange.to},on:{change:e.applyDateRange,input:function(t){t.target.composing||e.$set(e.dateRange,"to",t.target.value)}}})]),e._v(" "),t("button",{staticClass:"close-date-picker-btn",on:{click:function(t){e.showDatePicker=!1}}},[t("span",{staticClass:"material-icons"},[e._v("close")])])])]):e._e()]),e._v(" "),t("div",{staticClass:"store-filters"},[t("div",{staticClass:"store-filters-wrapper"},[e._l(e.adminStores,(function(r){return t("div",{key:r.id,staticClass:"store-filter-wrapper"},[t("button",{staticClass:"store-filter-btn",class:{active:e.selectedStoreIds.includes(r.id)},on:{click:function(t){return e.toggleStore(r.id)}}},[e._v("\n              "+e._s(r.name)+"\n            ")])])})),e._v(" "),e.selectedStoreIds.length?t("button",{staticClass:"store-filter-btn unmark-all",attrs:{title:"Fjern alle filtre"},on:{click:e.unmarkAllStores}},[t("span",{staticClass:"material-icons"},[e._v("close")])]):e._e()],2)]),e._v(" "),e.isLoadingStats?t("Loading",{attrs:{loading:!0}}):[t("div",{staticClass:"delivery-stats-grid"},[e.getDeliveryTypeCount("SelfPickup")?t("div",{staticClass:"delivery-stat-card"},[t("span",{staticClass:"material-icons"},[e._v("shopping_bag")]),e._v(" "),t("div",{staticClass:"delivery-stat-value"},[e._v("\n              "+e._s(e.getDeliveryTypeCount("SelfPickup"))+"\n            ")]),e._v(" "),t("div",{staticClass:"delivery-stat-label"},[e._v("Henting")]),e._v(" "),t("div",{staticClass:"delivery-stat-amount"},[e._v("\n              "+e._s(e.getDeliveryTypeAmount("SelfPickup"))+"\n            ")])]):e._e(),e._v(" "),e.getDeliveryTypeCount("InstantHomeDelivery")||e.getDeliveryTypeCount("WoltDelivery")?t("div",{staticClass:"delivery-stat-card"},[t("span",{staticClass:"material-icons"},[e._v("delivery_dining")]),e._v(" "),t("div",{staticClass:"delivery-stat-value"},[e._v("\n              "+e._s(e.getDeliveryTypeCount("WoltDelivery"))+"\n            ")]),e._v(" "),t("div",{staticClass:"delivery-stat-label"},[e._v("Levering")]),e._v(" "),t("div",{staticClass:"delivery-stat-amount"},[e._v("\n              "+e._s(e.getDeliveryTypeAmount("InstantHomeDelivery"))+"\n            ")])]):e._e(),e._v(" "),e.getDeliveryTypeCount("TableDelivery")?t("div",{staticClass:"delivery-stat-card"},[t("span",{staticClass:"material-icons"},[e._v("deck")]),e._v(" "),t("div",{staticClass:"delivery-stat-value"},[e._v("\n              "+e._s(e.getDeliveryTypeCount("TableDelivery"))+"\n            ")]),e._v(" "),t("div",{staticClass:"delivery-stat-label"},[e._v("Bord")]),e._v(" "),t("div",{staticClass:"delivery-stat-amount"},[e._v("\n              "+e._s(e.getDeliveryTypeAmount("TableDelivery"))+"\n            ")])]):e._e()]),e._v(" "),t("div",{staticClass:"stats-grid"},e._l(e.statistics.charts,(function(r){return t("div",{key:r.headingKey,staticClass:"stat-card"},[t("h3",[e._v(e._s(r.headingKey))]),e._v(" "),t("div",{staticClass:"stat-value"},[e._v("\n              "+e._s(e.formatStatValue(r))+"\n            ")])])})),0)]],2):e._e(),e._v(" "),e.showLogin?t("LoginModal",{on:{close:e.closeLoginModal}}):e._e()],1)])}),[],!1,null,null,null);t.default=component.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{581:function(e,t,r){var content=r(764);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(120).default)("73c92560",content,!0,{sourceMap:!1})},763:function(e,t,r){"use strict";r(581)},764:function(e,t,r){var o=r(119)((function(i){return i[1]}));o.push([e.i,'.dinehome-page[data-v-c00d6442]{margin:0 auto;max-width:1200px;padding:24px}@media(max-width:768px){.dinehome-page[data-v-c00d6442]{padding:8px}}.date-picker-section[data-v-c00d6442]{margin-bottom:32px;text-align:center}.date-picker-section h2[data-v-c00d6442]{color:#292c34;margin-bottom:24px}.date-picker-container[data-v-c00d6442]{display:flex;justify-content:center}.date-picker-wrapper[data-v-c00d6442]{align-items:center;background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);display:flex;gap:16px;padding:20px}@media(max-width:768px){.date-picker-wrapper[data-v-c00d6442]{border-radius:0;box-shadow:none;flex-direction:column;margin:0 -8px;max-width:none;width:100%}}.date-input[data-v-c00d6442]{display:flex;flex-direction:column;gap:8px}.date-input label[data-v-c00d6442]{color:#4a5568;font-weight:500}.date-input input[data-v-c00d6442]{border:2px solid #e2e8f0;border-radius:8px;font-size:.95em;padding:8px 12px;transition:all .2s ease}.date-input input[data-v-c00d6442]:focus{border-color:#1bb776;box-shadow:0 0 0 3px rgba(27,183,118,.1);outline:none}.delivery-times-table[data-v-c00d6442]{background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);overflow-x:auto}@media(max-width:768px){.delivery-times-table[data-v-c00d6442]{-webkit-overflow-scrolling:touch;border-radius:0;display:block;margin:0 -8px;overflow-x:auto;position:relative;white-space:nowrap}}.delivery-time-row[data-v-c00d6442]{grid-gap:16px;align-items:center;background:#fff;display:grid;gap:16px;grid-template-columns:minmax(160px,1.5fr) minmax(70px,.8fr) minmax(130px,1.2fr) minmax(130px,1.2fr) minmax(130px,1.2fr) minmax(100px,1fr);padding:12px 20px}@media(max-width:768px){.delivery-time-row[data-v-c00d6442]{gap:12px;grid-template-columns:minmax(180px,2fr) minmax(50px,.5fr) minmax(130px,1.2fr) minmax(130px,1.2fr) minmax(130px,1.2fr) minmax(100px,1fr);padding:12px 16px}}.delivery-time-row[data-v-c00d6442]:not(.header):hover{background:#f8fafc}.delivery-time-row .col[data-v-c00d6442]{overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap}.delivery-time-row .col.sortable[data-v-c00d6442]{cursor:pointer}.delivery-time-row.header[data-v-c00d6442]{background:#f8f9fa;border-bottom:1px solid #e2e8f0;font-weight:500}.empty-state[data-v-c00d6442]{background:#f8f9fa;border-radius:12px;color:#718096;font-style:italic;margin-top:24px;padding:48px;text-align:center}.sort-icon[data-v-c00d6442]{color:#1bb776;font-size:14px}.clickable[data-v-c00d6442]{cursor:pointer}.clickable[data-v-c00d6442]:hover{color:#1bb776}.resize-handle[data-v-c00d6442]{bottom:0;cursor:col-resize;position:absolute;right:-8px;top:0;width:16px}.resize-handle[data-v-c00d6442]:active:after,.resize-handle[data-v-c00d6442]:hover:after{background:#1bb776;bottom:0;content:"";position:absolute;right:8px;top:0;width:2px}.resize-handle[data-v-c00d6442]:active:after{background:#159c63}.resizing[data-v-c00d6442]{-moz-user-select:none;user-select:none;-webkit-user-select:none}.resizing *[data-v-c00d6442]{cursor:col-resize!important}.delivery-count[data-v-c00d6442]{color:#4a5568;font-weight:500;margin-bottom:16px;text-align:center}.date-nav-btn[data-v-c00d6442]{align-items:center;background:none;border:none;border-radius:8px;color:#4a5568;cursor:pointer;display:flex;font-size:1.5em;justify-content:center;padding:8px;transition:all .2s ease}.date-nav-btn[data-v-c00d6442]:hover{background:#f7fafc;color:#1bb776}.date-nav-btn[data-v-c00d6442]:active{transform:scale(.95)}.date-nav-btn[data-v-c00d6442]:focus{box-shadow:0 0 0 3px rgba(27,183,118,.1);outline:none}.wolt-calc-container[data-v-c00d6442]{align-items:flex-start;display:flex;flex-direction:column;margin:32px auto 0;max-width:1200px}@media(min-width:992px){.wolt-calc-container[data-v-c00d6442]{align-items:flex-start;flex-direction:row;gap:24px}}.wolt-calc-form-container[data-v-c00d6442]{background:#f8f9fa;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.06);margin-bottom:16px;max-width:420px;padding:24px;width:100%}@media(min-width:992px){.wolt-calc-form-container[data-v-c00d6442]{flex:0 0 auto;margin-bottom:0}}.wolt-calc-form[data-v-c00d6442]{gap:16px}.wolt-calc-form[data-v-c00d6442],.wolt-calc-row[data-v-c00d6442]{display:flex;flex-direction:column}.wolt-calc-row[data-v-c00d6442]{gap:4px}.wolt-calc-row label[data-v-c00d6442]{color:#4a5568;font-weight:500}.wolt-calc-row input[data-v-c00d6442]{border:2px solid #e2e8f0;border-radius:8px;font-size:1em;padding:8px 12px;transition:border-color .2s}.wolt-calc-row input[data-v-c00d6442]:focus{border-color:#1bb776;outline:none}.wolt-calc-form button[data-v-c00d6442]{background:#1bb776;border:none;border-radius:8px;color:#fff;cursor:pointer;font-size:1.1em;font-weight:600;margin-top:12px;padding:10px 0;transition:background .15s}.wolt-calc-form button[data-v-c00d6442]:hover{background:#159c63}.wolt-calc-result-summary[data-v-c00d6442]{display:flex;flex-direction:column;gap:20px;margin-top:24px;text-align:center}.wolt-result-box[data-v-c00d6442]{background-color:#f0fff4;border:2px solid #c6f6d5;border-radius:10px;padding:15px}.wolt-result-box h4[data-v-c00d6442]{color:#2f855a;font-size:1.1em;margin-bottom:5px}.result-percentage[data-v-c00d6442]{color:#1bb776;font-size:4.5em;font-weight:700;line-height:1;margin:10px 0}.percentage-symbol[data-v-c00d6442]{font-size:.6em;font-weight:600;vertical-align:super}.result-explanation[data-v-c00d6442]{color:#4a5568;font-size:.9em;margin-top:5px}.wolt-calc-explanation[data-v-c00d6442]{background-color:#f7fafc;border:1px solid #e2e8f0;border-radius:10px;padding:15px}.wolt-calc-explanation h4[data-v-c00d6442]{color:#4a5568;font-size:1.1em;margin-bottom:12px;text-align:left}.explanation-content[data-v-c00d6442]{display:flex;flex-direction:column;gap:10px;text-align:left}.explanation-item[data-v-c00d6442]{display:flex;flex-direction:column;gap:2px}.explanation-label[data-v-c00d6442]{color:#2d3748;font-weight:600}.explanation-formula[data-v-c00d6442],.explanation-value[data-v-c00d6442]{color:#4a5568;font-size:.95em}.explanation-total[data-v-c00d6442]{border-top:1px solid #e2e8f0;color:#2d3748;font-size:1.05em;margin-top:12px;padding-top:12px}.per-order-subsidy[data-v-c00d6442]{color:#4a5568;display:block;font-size:.9em;margin-top:4px}.wolt-calc-table-container[data-v-c00d6442]{background:#f8f9fa;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.06);margin-top:16px;padding:24px;width:100%}@media(min-width:992px){.wolt-calc-table-container[data-v-c00d6442]{flex:1;margin-top:0}}.wolt-calc-table-wrapper[data-v-c00d6442]{overflow-x:auto}.wolt-calc-table[data-v-c00d6442]{background:#fff;border-collapse:collapse;border-radius:8px;box-shadow:0 1px 4px rgba(0,0,0,.04);font-size:.97em;margin-top:8px;overflow:hidden;width:100%}.wolt-calc-table td[data-v-c00d6442],.wolt-calc-table th[data-v-c00d6442]{border:1px solid #e2e8f0;padding:6px 10px;text-align:right}.wolt-calc-table th[data-v-c00d6442]{background:#f7fafc;color:#4a5568;font-weight:600}.wolt-calc-table td[data-v-c00d6442]:first-child,.wolt-calc-table th[data-v-c00d6442]:first-child{text-align:left}.wolt-calc-table tfoot td[data-v-c00d6442]{background:#f8f9fa;font-weight:600}.wolt-info-banner[data-v-c00d6442]{background-color:#f7fafc;border:1px solid #e2e8f0;border-radius:10px;margin-bottom:16px;margin-top:16px;padding:15px}.wolt-info-banner p[data-v-c00d6442]{color:#4a5568;font-size:1em;text-align:left}.wolt-loading-banner[data-v-c00d6442]{background-color:#f7fafc;border:1px solid #e2e8f0;border-radius:10px;margin-bottom:16px;margin-top:16px;padding:24px}.wolt-loading-banner .loading-content[data-v-c00d6442]{align-items:center;display:flex;gap:12px;justify-content:center}.wolt-loading-banner .loading-content .loading-spinner[data-v-c00d6442]{animation:spin-c00d6442 1s linear infinite;border:2px solid #e2e8f0;border-radius:50%;border-top-color:#1bb776;height:20px;width:20px}.wolt-loading-banner .loading-content p[data-v-c00d6442]{color:#4a5568;font-size:1em;margin:0}.wolt-info-banner a[data-v-c00d6442]{color:#1bb776;-webkit-text-decoration:none;text-decoration:none}.wolt-info-banner a[data-v-c00d6442]:hover{color:#159c63}.wolt-contact-info[data-v-c00d6442]{background-color:#e8f4fd;border-left:4px solid #1bb776;border-radius:8px;margin-top:16px;padding:16px}.wolt-contact-info p[data-v-c00d6442]{color:#2d3748;font-size:.95em;line-height:1.5;margin:0}.wolt-contact-info strong[data-v-c00d6442]{color:#1bb776;font-weight:600}.orders-section[data-v-c00d6442]{background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);margin-top:32px;padding:24px}.orders-section .orders-header[data-v-c00d6442]{align-items:center;display:flex;justify-content:center;margin-bottom:20px}.orders-section .orders-header h3[data-v-c00d6442]{color:#292c34;font-size:1.25rem;margin:0}.orders-section .orders-header .header-controls[data-v-c00d6442]{align-items:center;display:flex;gap:16px}.orders-section .orders-header .pagination-controls-header[data-v-c00d6442]{align-items:center;background:#fff;border:1px solid #e2e8f0;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,.05);display:flex;gap:6px;padding:4px}.orders-section .orders-header .pagination-controls-header .nav-btn[data-v-c00d6442]{align-items:center;background:transparent;border:none;border-radius:6px;color:#4a5568;cursor:pointer;display:flex;height:36px;justify-content:center;min-width:36px;padding:8px;transition:all .2s ease}.orders-section .orders-header .pagination-controls-header .nav-btn[data-v-c00d6442]:hover:not(:disabled){background:#f8fafc;color:#1bb776}.orders-section .orders-header .pagination-controls-header .nav-btn[data-v-c00d6442]:disabled{cursor:not-allowed;opacity:.3}.orders-section .orders-header .pagination-controls-header .nav-btn .material-icons[data-v-c00d6442]{font-size:18px}.orders-section .orders-header .pagination-controls-header .page-numbers[data-v-c00d6442]{display:flex;gap:1px;margin:0 4px}.orders-section .orders-header .pagination-controls-header .page-btn[data-v-c00d6442]{align-items:center;background:transparent;border:none;border-radius:6px;color:#4a5568;cursor:pointer;display:flex;font-size:.875rem;font-weight:500;height:36px;justify-content:center;min-width:36px;padding:8px 10px;transition:all .2s ease}.orders-section .orders-header .pagination-controls-header .page-btn[data-v-c00d6442]:hover:not(:disabled):not(.active):not(.ellipsis){background:#f8fafc;color:#2d3748}.orders-section .orders-header .pagination-controls-header .page-btn.active[data-v-c00d6442]{background:#1bb776;box-shadow:0 1px 2px rgba(27,183,118,.2);color:#fff;font-weight:600}.orders-section .orders-header .pagination-controls-header .page-btn[data-v-c00d6442]:disabled{cursor:not-allowed;opacity:.3}.orders-section .orders-header .pagination-controls-header .page-btn.ellipsis[data-v-c00d6442]{background:none;color:#a0aec0;cursor:default;font-weight:400}.orders-section .orders-header .pagination-controls-header .page-btn.ellipsis[data-v-c00d6442]:hover{background:none;color:#a0aec0}@media(max-width:768px){.orders-section .orders-header[data-v-c00d6442]{align-items:flex-start;flex-direction:column;gap:16px}.orders-section .orders-header .header-controls[data-v-c00d6442]{justify-content:space-between;width:100%}}.orders-section .refresh-btn[data-v-c00d6442]{align-items:center;background:#1bb776;border:none;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,.1);color:#fff;cursor:pointer;display:flex;font-size:.9rem;font-weight:500;gap:8px;padding:8px 16px;transition:all .2s ease}.orders-section .refresh-btn[data-v-c00d6442]:hover:not(:disabled){background:#159c63;box-shadow:0 2px 6px rgba(0,0,0,.15);transform:translateY(-1px)}.orders-section .refresh-btn[data-v-c00d6442]:disabled{box-shadow:0 1px 3px rgba(0,0,0,.1);cursor:not-allowed;opacity:.6;transform:none}.orders-section .refresh-btn .material-icons[data-v-c00d6442]{font-size:18px}.orders-section .refresh-btn .spinner[data-v-c00d6442]{animation:spin-c00d6442 1s linear infinite;border:2px solid transparent;border-radius:50%;border-top-color:currentcolor;height:16px;width:16px}.orders-section .orders-table[data-v-c00d6442]{border:1px solid #e2e8f0;border-radius:8px;overflow:hidden}.orders-section .order-row[data-v-c00d6442]{grid-gap:16px;align-items:center;border-bottom:1px solid #e2e8f0;display:grid;gap:16px;grid-template-columns:minmax(80px,.8fr) minmax(180px,2fr) minmax(120px,1.2fr) minmax(130px,1.3fr) minmax(100px,1fr) minmax(130px,1.3fr) minmax(90px,.9fr) minmax(100px,1fr);padding:12px 16px}.orders-section .order-row[data-v-c00d6442]:last-child{border-bottom:none}.orders-section .order-row[data-v-c00d6442]:not(.header):hover{background:#f8fafc}.orders-section .order-row .col[data-v-c00d6442]{font-size:.9rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.orders-section .order-row.header[data-v-c00d6442]{background:#f8f9fa;border-bottom:2px solid #e2e8f0;color:#4a5568;font-weight:600;position:static}.orders-section .order-row.header .col[data-v-c00d6442]{font-size:.85rem;letter-spacing:.025em;text-transform:uppercase}@media(max-width:768px){.orders-section .order-row[data-v-c00d6442]{gap:8px;grid-template-columns:minmax(60px,.6fr) minmax(120px,1.5fr) minmax(80px,.8fr) minmax(100px,1fr) minmax(80px,.8fr) minmax(100px,1fr) minmax(60px,.6fr) minmax(70px,.7fr);padding:10px 12px}.orders-section .order-row .col[data-v-c00d6442]{font-size:.8rem}}.orders-section .status-badge[data-v-c00d6442]{border-radius:12px;display:inline-block;font-size:.75rem;font-weight:600;letter-spacing:.025em;padding:4px 8px;text-transform:uppercase}.orders-section .status-badge.status-processing[data-v-c00d6442]{background:#fef3c7;color:#d97706}.orders-section .status-badge.status-ready[data-v-c00d6442]{background:#dcfce7;color:#16a34a}.orders-section .status-badge.status-completed[data-v-c00d6442]{background:#e0f2fe;color:#0284c7}.orders-section .status-badge.status-canceled[data-v-c00d6442]{background:#fee2e2;color:#dc2626}.orders-section .status-badge.status-default[data-v-c00d6442]{background:#f3f4f6;color:#6b7280}.orders-section .tracking-link[data-v-c00d6442]{align-items:center;color:#1bb776;display:flex;font-size:.8rem;font-weight:500;gap:4px;-webkit-text-decoration:none;text-decoration:none}.orders-section .tracking-link[data-v-c00d6442]:hover{color:#159c63;-webkit-text-decoration:underline;text-decoration:underline}.orders-section .tracking-link .material-icons[data-v-c00d6442]{font-size:.9em}@media(max-width:768px){.orders-section[data-v-c00d6442]{border-radius:0;margin:0 -8px;padding:16px 8px}.orders-section .orders-table[data-v-c00d6442]{-webkit-overflow-scrolling:touch;overflow-x:auto}.orders-section .order-row[data-v-c00d6442]{min-width:600px}}.orders-section .pagination-controls[data-v-c00d6442]{align-items:center;border-top:1px solid #e2e8f0;display:flex;justify-content:space-between;margin-top:20px;padding:16px 0}@media(max-width:768px){.orders-section .pagination-controls[data-v-c00d6442]{flex-direction:column;gap:16px}}.orders-section .pagination-controls .pagination-btn[data-v-c00d6442]{align-items:center;background:#1bb776;border:none;border-radius:6px;color:#fff;cursor:pointer;display:flex;font-size:.9rem;gap:8px;padding:8px 16px;transition:all .2s ease}.orders-section .pagination-controls .pagination-btn[data-v-c00d6442]:hover:not(:disabled){background:#159c63;transform:translateY(-1px)}.orders-section .pagination-controls .pagination-btn[data-v-c00d6442]:disabled{cursor:not-allowed;opacity:.4;transform:none}.orders-section .pagination-controls .pagination-btn .material-icons[data-v-c00d6442]{font-size:1.1em}.orders-section .pagination-controls .pagination-info[data-v-c00d6442]{color:#4a5568;font-size:.9rem;text-align:center}@media(max-width:768px){.orders-section .pagination-controls .pagination-info[data-v-c00d6442]{order:-1}}@keyframes spin-c00d6442{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}',""]),o.locals={},e.exports=o},851:function(e,t,r){"use strict";r.r(t);r(508);var o=r(0),n=r(79),d=(r(9),r(13),r(308),r(57),r(307),r(50),r(97),r(42),r(33),r(73),r(494)),c=r(495),l=r(497),v={components:{AdminPage:d.default,LoginModal:l.default,Loading:c.default},data:function(){return{showLogin:!1,isLoading:!1,ordersData:null,currentPage:1,pageSize:20,isLoadingOrders:!1,deliveryTimes:[],selectedDate:(new Date).toISOString().split("T")[0],sortField:"drivingTimeInMinutes",sortDirection:"desc",showActualTime:!1,columnWidths:[160,70,130,130,130,100],resizing:null,isResizing:!1,woltCalc:{avgOrderValue:400,shippingPrice:75,serviceFee:10,basePrice:109,distancePrice:10}}},computed:{isKeyAccountManager:function(){var e;return null===(e=this.$store.state.currentUser)||void 0===e?void 0:e.isKeyAccountManager},isPowerUser:function(){var e;return null===(e=this.$store.state.currentUser)||void 0===e?void 0:e.isPowerUser},woltCalcResult:function(){var e=this,t=this.woltCalc.avgOrderValue/1.15,r=0,o=0,n=0,d=0,c=[];return[{distance:500,percent:9.2},{distance:1e3,percent:18.7},{distance:1500,percent:16.8},{distance:2e3,percent:14.6},{distance:2500,percent:11.2},{distance:3e3,percent:8.9},{distance:3500,percent:5.9},{distance:4e3,percent:4.7},{distance:4500,percent:3.6},{distance:5e3,percent:2.8},{distance:5500,percent:1.9},{distance:6e3,percent:1.7}].forEach((function(t,l){var v=t.percent/100*100,m=e.woltCalc.shippingPrice+e.woltCalc.serviceFee,f=e.woltCalc.basePrice+e.woltCalc.distancePrice*l,x=f-m,h=x*v;r+=h,o+=m*v,n+=f*v,d+=v,c.push({distance:t.distance,percent:t.percent,count:v,fraktOgService:m,fraktkost:f,netSubsidyPerUnit:x,netSubsidy:h})})),{result:r/100/t*100,tableRows:c,tableTotals:{count:d,fraktOgService:o,fraktkost:n,netSubsidy:r,orderValueExVat:t}}},sortedDeliveryTimes:function(){var e=this;return Object(n.a)(this.deliveryTimes).sort((function(a,b){var t=a[e.sortField],r=b[e.sortField];if("drivingTimeInMinutes"===e.sortField)t=e.calculateActualDrivingTime(a),r=e.calculateActualDrivingTime(b);else if("processingEndTime"===e.sortField){var o=function(time){return time&&time.estimatedProcessingEndTime&&time.processingEndTime&&"0001-01-01T00:00:00"!==time.processingEndTime?Math.round((new Date(time.processingEndTime)-new Date(time.estimatedProcessingEndTime))/6e4):null};if(t=o(a),r=o(b),null===t)return 1;if(null===r)return-1}else["estimatedProcessingEndTime","completedTime"].includes(e.sortField)?(t=t&&"0001-01-01T00:00:00"!==t?new Date(t).getTime():0,r=r&&"0001-01-01T00:00:00"!==r?new Date(r).getTime():0):"drivingTimeInMinutes"===e.sortField?(t=Number(t),r=Number(r)):(t=t||"",r=r||"");return"asc"===e.sortDirection?t>r?1:t<r?-1:0:t<r?1:t>r?-1:0}))},isFutureOrToday:function(){var e=new Date;return e.setHours(0,0,0,0),new Date(this.selectedDate)>=e},visiblePages:function(){var e,t=(null===(e=this.ordersData)||void 0===e?void 0:e.totalPages)||1,r=this.currentPage,o=[];if(t<=7)for(var i=1;i<=t;i++)o.push(i);else{o.push(1),r>4&&o.push("...");for(var n=Math.max(2,r-1),d=Math.min(t-1,r+1),c=n;c<=d;c++)o.includes(c)||o.push(c);r<t-3&&o.push("..."),t>1&&o.push(t)}return o}},mounted:function(){this.$store.getters.userIsLoggedIn?(this.fetchDeliveryTimes(),this.fetchOrders()):this.showLogin=!0},beforeDestroy:function(){window.removeEventListener("mousemove",this.handleResize),window.removeEventListener("mouseup",this.stopResize)},methods:{closeLoginModal:function(e){this.showLogin=!e,e&&(this.fetchDeliveryTimes(),this.fetchOrders())},fetchOrders:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o="number"!=typeof e||isNaN(e)?t.currentPage:e,t.isLoadingOrders=!0,r.prev=2,r.next=5,t._woltService.getOrders(o,t.pageSize);case 5:n=r.sent,t.ordersData=n,t.currentPage=t.ordersData.page,r.next=14;break;case 10:r.prev=10,r.t0=r.catch(2),console.warn("Failed to fetch Wolt orders:",r.t0),t.ordersData={orders:[],totalCount:0,page:1,pageSize:t.pageSize,totalPages:0};case 14:return r.prev=14,t.isLoadingOrders=!1,r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[2,10,14,17]])})))()},changePage:function(e){if("..."!==e){var t="number"==typeof e?e:parseInt(e,10);isNaN(t)||t<1||(this.currentPage=t,this.fetchOrders(t))}},getStatusClass:function(e){switch(e){case"Processing":return"status-processing";case"ReadyForPickup":return"status-ready";case"Completed":return"status-completed";case"Canceled":return"status-canceled";default:return"status-default"}},fetchDeliveryTimes:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isLoading=!0;try{r=e.$store.state.currentUser.adminIn.map((function(e){return e.id})),{dateFrom:new Date(e.selectedDate),dateTo:new Date(e.selectedDate),storeIds:r},e.deliveryTimes=[]}catch(e){console.error("Failed to fetch delivery times:",e)}finally{e.isLoading=!1}case 2:case"end":return t.stop()}}),t)})))()},formatDate:function(e){return e&&"0001-01-01T00:00:00"!==e?new Date(e).toLocaleString("no-NO",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):null},getTimeDiff:function(e,t){if(!e||!t||"0001-01-01T00:00:00"===t)return"-";var r=Math.round((new Date(t)-new Date(e))/6e4);return 0===r?"Presist":r>0?"".concat(r," min senere"):"".concat(Math.abs(r)," min tidligere")},handleColumnClick:function(e,t){this.isResizing||this.sort(t)},startResize:function(e,t){e.stopPropagation(),this.isResizing=!0,this.resizing={columnIndex:t,startX:e.pageX,startWidth:this.columnWidths[t]},window.addEventListener("mousemove",this.handleResize),window.addEventListener("mouseup",this.stopResize)},handleResize:function(e){if(this.resizing){var t=e.pageX-this.resizing.startX,r=Math.max(50,this.resizing.startWidth+t);this.columnWidths[this.resizing.columnIndex]=r;var o=this.columnWidths.map((function(e){return"minmax(".concat(e,"px, ").concat(e,"fr)")})).join(" ");document.querySelectorAll(".delivery-time-row").forEach((function(e){e.style.gridTemplateColumns=o}))}},stopResize:function(){var e=this;this.resizing=null,setTimeout((function(){e.isResizing=!1}),150),window.removeEventListener("mousemove",this.handleResize),window.removeEventListener("mouseup",this.stopResize)},sort:function(e){this.sortField===e?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortField=e,this.sortDirection="asc")},toggleTimeDisplay:function(){this.showActualTime=!this.showActualTime},calculateActualDrivingTime:function(time){if(!time.completedTime||!time.estimatedProcessingEndTime||!time.processingEndTime)return time.drivingTimeInMinutes||0;var e=new Date(time.completedTime),t=new Date(time.estimatedProcessingEndTime),r=new Date(time.processingEndTime),o=r>t?r:t;return Math.round((e-o)/6e4)},handleDateChange:function(){this.fetchDeliveryTimes()},changeDate:function(e){var t=new Date(this.selectedDate);t.setDate(t.getDate()+e),this.selectedDate=t.toISOString().split("T")[0],this.fetchDeliveryTimes()}}},m=(r(763),r(78)),component=Object(m.a)(v,(function(){var e=this,t=e._self._c;return t("AdminPage",[t("div",{staticClass:"dinehome-page"},[t("h2",[e._v("Wolt leveringer")]),e._v(" "),e.isLoadingOrders&&!e.ordersData?t("div",{staticClass:"wolt-loading-banner"},[t("div",{staticClass:"loading-content"},[t("div",{staticClass:"loading-spinner"}),e._v(" "),t("p",[e._v("Laster Wolt leveringer...")])])]):e._e(),e._v(" "),!e.isLoadingOrders&&e.ordersData&&e.ordersData.orders&&0===e.ordersData.orders.length?t("div",{staticClass:"wolt-info-banner"},[t("p",[e._v("Du har ingen Wolt leveringer")])]):e._e(),e._v(" "),e.ordersData&&e.ordersData.orders&&e.ordersData.orders.length>0?t("div",{staticClass:"wolt-contact-info"},[t("p",[e._v("\n        Dersom du ønsker endringer i forhold til levering kan du kontakte Wolt på tlf nr\n        "),t("strong",[e._v("23 96 01 93")]),e._v(". Du må da oppgi at det gjelder Wolt Drive og hentekode.\n      ")])]):e._e(),e._v(" "),e.ordersData&&e.ordersData.orders&&e.ordersData.orders.length>0?t("div",{staticClass:"orders-section"},[t("div",{staticClass:"orders-header"},[t("div",{staticClass:"header-controls"},[t("div",{staticClass:"pagination-controls-header"},[t("button",{staticClass:"pagination-btn nav-btn",attrs:{disabled:e.currentPage<=1||e.isLoadingOrders,title:"Forrige side"},on:{click:function(t){return e.changePage(e.currentPage-1)}}},[t("span",{staticClass:"material-icons"},[e._v("chevron_left")])]),e._v(" "),t("div",{staticClass:"page-numbers"},e._l(e.visiblePages,(function(r){return t("button",{key:r,class:["page-btn",{active:r===e.currentPage,ellipsis:"..."===r}],attrs:{disabled:e.isLoadingOrders||"..."===r},on:{click:function(t){return e.changePage(r)}}},[e._v("\n                "+e._s(r)+"\n              ")])})),0),e._v(" "),t("button",{staticClass:"pagination-btn nav-btn",attrs:{disabled:e.currentPage>=(e.ordersData.totalPages||1)||e.isLoadingOrders,title:"Neste side"},on:{click:function(t){return e.changePage(e.currentPage+1)}}},[t("span",{staticClass:"material-icons"},[e._v("chevron_right")])])]),e._v(" "),t("button",{staticClass:"refresh-btn",attrs:{disabled:e.isLoadingOrders},on:{click:function(t){return e.fetchOrders()}}},[e.isLoadingOrders?t("span",{staticClass:"spinner"}):t("span",{staticClass:"material-icons"},[e._v("refresh")]),e._v("\n            Oppdater\n          ")])])]),e._v(" "),t("div",{staticClass:"orders-table"},[t("div",{staticClass:"order-row header"},[t("div",{staticClass:"col order-id"},[e._v("Kode")]),e._v(" "),t("div",{staticClass:"col store-name"},[e._v("Butikk")]),e._v(" "),t("div",{staticClass:"col status"},[e._v("Status")]),e._v(" "),t("div",{staticClass:"col created"},[e._v("Opprettet")]),e._v(" "),t("div",{staticClass:"col amount"},[e._v("Beløp")]),e._v(" "),t("div",{staticClass:"col pickup-eta"},[e._v("Hentetid")]),e._v(" "),t("div",{staticClass:"col driving-time"},[e._v("Kjøretid")]),e._v(" "),t("div",{staticClass:"col tracking"},[e._v("Sporing")])]),e._v(" "),e._l(e.ordersData.orders,(function(r){return t("div",{key:r.orderId,staticClass:"order-row"},[t("div",{staticClass:"col order-id"},[e._v("\n            "+e._s(r.friendlyOrderId)+"\n          ")]),e._v(" "),t("div",{staticClass:"col store-name"},[e._v("\n            "+e._s(r.storeName)+"\n          ")]),e._v(" "),t("div",{staticClass:"col status"},[t("span",{staticClass:"status-badge",class:e.getStatusClass(r.status)},[e._v("\n              "+e._s(e.orderStatusLabel(r.status))+"\n            ")])]),e._v(" "),t("div",{staticClass:"col created"},[e._v("\n            "+e._s(e.formatDate(r.created))+"\n          ")]),e._v(" "),t("div",{staticClass:"col amount"},[e._v("\n            "+e._s(e.priceLabel(r.finalAmount,!0))+"\n          ")]),e._v(" "),t("div",{staticClass:"col pickup-eta"},[e._v("\n            "+e._s(r.woltDeliveryInfo&&r.woltDeliveryInfo.pickupEta?e.formatDate(r.woltDeliveryInfo.pickupEta):"-")+"\n          ")]),e._v(" "),t("div",{staticClass:"col driving-time"},[e._v("\n            "+e._s(r.drivingTimeInMinutes?r.drivingTimeInMinutes+" min":"-")+"\n          ")]),e._v(" "),t("div",{staticClass:"col tracking"},[r.woltDeliveryInfo&&r.woltDeliveryInfo.trackingUrl?t("a",{staticClass:"tracking-link",attrs:{href:r.woltDeliveryInfo.trackingUrl,target:"_blank"}},[t("span",{staticClass:"material-icons"},[e._v("open_in_new")]),e._v("\n              Spor\n            ")]):t("span",[e._v("-")])])])}))],2)]):e._e(),e._v(" "),e.isKeyAccountManager||e.isPowerUser?t("div",{staticClass:"wolt-calc-container"},[t("div",{staticClass:"wolt-calc-form-container"},[t("form",{staticClass:"wolt-calc-form"},[t("h3",[e._v("Wolt Kalkulator")]),e._v(" "),t("div",{staticClass:"wolt-calc-row"},[t("label",[e._v("Gjennomsnittlig ordreverdi (inkl. 15% mva)")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.woltCalc.avgOrderValue,expression:"woltCalc.avgOrderValue",modifiers:{number:!0}}],attrs:{type:"number",min:"0",step:"1"},domProps:{value:e.woltCalc.avgOrderValue},on:{input:function(t){t.target.composing||e.$set(e.woltCalc,"avgOrderValue",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"wolt-calc-row"},[t("label",[e._v("Fraktpris til sluttkunde (inkl. 25% mva)")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.woltCalc.shippingPrice,expression:"woltCalc.shippingPrice",modifiers:{number:!0}}],attrs:{type:"number",min:"0",step:"1"},domProps:{value:e.woltCalc.shippingPrice},on:{input:function(t){t.target.composing||e.$set(e.woltCalc,"shippingPrice",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"wolt-calc-row"},[t("label",[e._v("Service fee til sluttkunde (inkl. 25% mva)")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.woltCalc.serviceFee,expression:"woltCalc.serviceFee",modifiers:{number:!0}}],attrs:{type:"number",min:"0",step:"1"},domProps:{value:e.woltCalc.serviceFee},on:{input:function(t){t.target.composing||e.$set(e.woltCalc,"serviceFee",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"wolt-calc-row"},[t("label",[e._v("Wolt basispris (inkl. 25% mva)")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.woltCalc.basePrice,expression:"woltCalc.basePrice",modifiers:{number:!0}}],attrs:{type:"number",min:"0",step:"1"},domProps:{value:e.woltCalc.basePrice},on:{input:function(t){t.target.composing||e.$set(e.woltCalc,"basePrice",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"wolt-calc-row"},[t("label",[e._v("Wolt avstandspris (per 500m)")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.woltCalc.distancePrice,expression:"woltCalc.distancePrice",modifiers:{number:!0}}],attrs:{type:"number",min:"0",step:"1"},domProps:{value:e.woltCalc.distancePrice},on:{input:function(t){t.target.composing||e.$set(e.woltCalc,"distancePrice",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"wolt-calc-result-summary"},[t("div",{staticClass:"wolt-result-box"},[t("h4",[e._v("Wolt kostnad:")]),e._v(" "),t("div",{staticClass:"result-percentage"},[e._v(e._s(e.woltCalcResult.result.toFixed(0))),t("span",{staticClass:"percentage-symbol"},[e._v("%")])]),e._v(" "),t("p",{staticClass:"result-explanation"},[e._v("av gjennomsnittlig ordreverdi eks. mva")])])])])]),e._v(" "),t("div",{staticClass:"wolt-calc-table-container"},[t("h3",[e._v("Beregningstabell (for 100 ordre)")]),e._v(" "),t("div",{staticClass:"wolt-calc-table-wrapper"},[t("table",{staticClass:"wolt-calc-table"},[t("thead",[t("tr",[t("th",[e._v("Avstand (m)")]),e._v(" "),t("th",[e._v("Andel")]),e._v(" "),t("th",[e._v("Antall ordre")]),e._v(" "),t("th",[e._v("Frakt & Serviceinntekt")]),e._v(" "),t("th",[e._v("Fraktkost")]),e._v(" "),t("th",[e._v("Netto Subsidier per enhet")]),e._v(" "),t("th",[e._v("Netto subsidier kategori")])])]),e._v(" "),t("tbody",e._l(e.woltCalcResult.tableRows,(function(r){return t("tr",{key:r.distance},[t("td",[e._v(e._s(r.distance))]),e._v(" "),t("td",[e._v(e._s(r.percent)+"%")]),e._v(" "),t("td",[e._v(e._s(r.count.toFixed(1)))]),e._v(" "),t("td",[e._v(e._s(r.fraktOgService))]),e._v(" "),t("td",[e._v(e._s(r.fraktkost))]),e._v(" "),t("td",[e._v(e._s(r.netSubsidyPerUnit))]),e._v(" "),t("td",[e._v(e._s(r.netSubsidy.toFixed(1)))])])})),0),e._v(" "),t("tfoot",[t("tr",[t("td",{attrs:{colspan:"2"}},[t("strong",[e._v("Total")])]),e._v(" "),t("td",[t("strong",[e._v(e._s(e.woltCalcResult.tableTotals.count.toFixed(0)))])]),e._v(" "),t("td",[t("strong")]),e._v(" "),t("td",[t("strong",[e._v(e._s((e.woltCalcResult.tableTotals.fraktkost/e.woltCalcResult.tableTotals.count).toFixed(2)))])]),e._v(" "),t("td",[t("strong",[e._v(e._s((e.woltCalcResult.tableTotals.netSubsidy/e.woltCalcResult.tableTotals.count).toFixed(0)))])]),e._v(" "),t("td",[t("strong",[e._v(e._s(e.woltCalcResult.tableTotals.netSubsidy.toFixed(1)))])])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"right"},attrs:{colspan:"6"}},[t("strong",[e._v("Netto subsidier i %:")])]),e._v(" "),t("td",[t("strong",[e._v(e._s(e.woltCalcResult.result.toFixed(0))+"%")])])])])])]),e._v(" "),t("div",{staticClass:"wolt-calc-explanation",staticStyle:{"margin-top":"24px"}},[t("h4",[e._v("Forklaring:")]),e._v(" "),t("div",{staticClass:"explanation-content"},[t("div",{staticClass:"explanation-item"},[t("span",{staticClass:"explanation-label"},[e._v("Fraktkost")]),e._v(" "),t("span",{staticClass:"explanation-formula"},[e._v("= Basispris ("+e._s(e.woltCalc.basePrice)+") + (Avstandspris ("+e._s(e.woltCalc.distancePrice)+") × avstandsfaktor)")])]),e._v(" "),t("div",{staticClass:"explanation-item"},[t("span",{staticClass:"explanation-label"},[e._v("Frakt & Serviceinntekt")]),e._v(" "),t("span",{staticClass:"explanation-value"},[e._v("= "+e._s(e.woltCalc.shippingPrice)+" + "+e._s(e.woltCalc.serviceFee)+" = "+e._s(e.woltCalc.shippingPrice+e.woltCalc.serviceFee))])]),e._v(" "),t("div",{staticClass:"explanation-item"},[t("span",{staticClass:"explanation-label"},[e._v("Netto Subsidier")]),e._v(" "),t("span",{staticClass:"explanation-formula"},[e._v("= Fraktkost - Frakt & Serviceinntekt")])]),e._v(" "),t("div",{staticClass:"explanation-total"},[e._v("\n              Subsidiebeløp: "),t("strong",[e._v(e._s(e.woltCalcResult.tableTotals.netSubsidy?Math.round(e.woltCalcResult.tableTotals.netSubsidy/100):"0"))]),e._v(" kr per ordre\n            ")])])])])]):e._e(),e._v(" "),e.showLogin?t("LoginModal",{on:{close:e.closeLoginModal}}):e._e()],1)])}),[],!1,null,"c00d6442",null);t.default=component.exports}}]);
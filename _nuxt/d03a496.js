(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{575:function(t,o,e){var content=e(751);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(120).default)("87911646",content,!0,{sourceMap:!1})},750:function(t,o,e){"use strict";e(575)},751:function(t,o,e){var n=e(119)((function(i){return i[1]}));n.push([t.i,".container[data-v-6a5656b9]{margin:0 auto;max-width:1200px;padding:1rem}.empty-state[data-v-6a5656b9]{color:#666;display:block;padding:2rem;text-align:center}.payout-item[data-v-6a5656b9]{border:1px solid #e2e8f0;border-radius:.5rem;box-shadow:0 1px 3px rgba(0,0,0,.1);margin-bottom:1rem;overflow:hidden}.payout-item--sent[data-v-6a5656b9]{opacity:.5}.payout-header[data-v-6a5656b9]{align-items:center;background:#f7fafc;cursor:pointer;display:flex;justify-content:space-between;padding:1rem 1.5rem;transition:background-color .2s}.payout-header[data-v-6a5656b9]:hover{background:#edf2f7}.payout-amount[data-v-6a5656b9]{font-weight:500}.payout-details[data-v-6a5656b9]{padding:1.5rem}.payout-info[data-v-6a5656b9]{color:#4a5568;margin-bottom:1rem}.payout-amount-details[data-v-6a5656b9]{font-size:1.5rem;font-weight:500;margin:1.5rem 0}.payout-actions[data-v-6a5656b9]{display:flex;gap:.75rem;justify-content:flex-end;margin-top:1.5rem}.btn[data-v-6a5656b9]{background-color:#4299e1;border:none;border-radius:.375rem;color:#fff;cursor:pointer;font-weight:500;padding:.5rem 1rem;transition:background-color .2s}.btn[data-v-6a5656b9]:hover{background-color:#3182ce}.btn[data-v-6a5656b9]:disabled{cursor:not-allowed;opacity:.5}.requested-tag[data-v-6a5656b9]{background:#fef3c7;border-radius:.25rem;color:#92400e;font-size:.875rem;margin-right:.5rem;padding:.25rem .5rem}",""]),n.locals={},t.exports=n},846:function(t,o,e){"use strict";e.r(o);e(13);var n=e(494),r=e(495),d=e(497),c={components:{AdminPage:n.default,LoginModal:d.default,Loading:r.default},data:function(){return{showLogin:!1,isLoading:!1,lockActions:!1,payouts:[],showPayoutId:""}},mounted:function(){this.$store.getters.userIsLoggedIn?this.loadPayouts():this.showLogin=!0},methods:{closeLoginModal:function(t){this.showLogin=!t,t&&this.loadPayouts()},sendInvoiceMail:function(t){var o=this;this.lockActions||(this.lockActions=!0,this._payoutService.SendInvoiceMail(t.okamPayoutId).then((function(){o.loadPayouts()})).finally((function(){o.lockActions=!1})))},requestPayout:function(t){var o=this;this.lockActions||(this.lockActions=!0,this._payoutService.RequestPayout(t.storeId).then((function(){o.loadPayouts()})).finally((function(){o.lockActions=!1})))},completePayout:function(t){var o=this;this.lockActions||(this.lockActions=!0,this._payoutService.CompletePayout(t.storeId).then((function(){o.loadPayouts()})).finally((function(){o.lockActions=!1})))},loadPayouts:function(){var t=this;this.isLoading=!0,this._payoutService.GetLatest().then((function(o){t.payouts=Array.isArray(o)?o:[]})).finally((function(){t.isLoading=!1}))},togglePayout:function(t){this.showPayoutId=this.showPayoutId===t.okamPayoutId?"":t.okamPayoutId}}},l=c,y=(e(750),e(78)),component=Object(y.a)(l,(function(){var t=this,o=t._self._c;return o("AdminPage",[o("div",{staticClass:"container"},[t.isLoading?o("Loading",{attrs:{loading:!0}}):t._e(),t._v(" "),0!==t.payouts.length||t.isLoading?t._e():o("span",{staticClass:"empty-state"},[t._v("\n      Ingen utbetalinger\n    ")]),t._v(" "),t._l(t.payouts,(function(e){return o("div",{key:e.id,staticClass:"payout-item",class:{"payout-item--sent":e.invoiceSent}},[o("div",{staticClass:"payout-header",on:{click:function(o){return t.togglePayout(e)}}},[o("span",[t._v(t._s(e.store.legalName))]),t._v(" "),o("span",{staticClass:"payout-amount"},[e.requested?o("span",{staticClass:"requested-tag"},[t._v("Forespurt utbetaling")]):t._e(),t._v("\n          "+t._s(t.priceLabel(e.payoutAmount))+"\n        ")])]),t._v(" "),t.showPayoutId===e.okamPayoutId?o("div",{staticClass:"payout-details"},[e.requested?o("div",{staticClass:"payout-info"},[t._v("\n          Forespurt: "+t._s(t.formatDate(e.requested))+"\n        ")]):t._e(),t._v(" "),e.payed?o("div",{staticClass:"payout-info"},[t._v("\n          Utbetalt: "+t._s(t.formatDate(e.payed))+"\n        ")]):t._e(),t._v(" "),e.requested&&!e.payed?o("div",{staticClass:"payout-amount-details"},[o("div",[t._v("Konto: "+t._s(e.storeBankAccountNumber))]),t._v(" "),o("div",[t._v("Beløp: "+t._s(t.priceLabel(e.payoutAmount)))])]):t._e(),t._v(" "),o("div",{staticClass:"payout-actions"},[e.requested||e.payed?t._e():o("button",{staticClass:"btn",attrs:{disabled:t.lockActions},on:{click:function(o){return t.requestPayout(e)}}},[t._v("\n            Forespør utbetaling\n          ")]),t._v(" "),e.requested&&!e.payed?o("button",{staticClass:"btn",attrs:{disabled:t.lockActions},on:{click:function(o){return t.completePayout(e)}}},[t._v("\n            Fullfør utbetaling\n          ")]):t._e(),t._v(" "),e.payed&&!e.invoiceSent?o("button",{staticClass:"btn",attrs:{disabled:t.lockActions},on:{click:function(o){return t.sendInvoiceMail(e)}}},[t._v("\n            Send faktura\n          ")]):t._e()])]):t._e()])})),t._v(" "),t.showLogin?o("LoginModal",{on:{close:t.closeLoginModal}}):t._e()],2)])}),[],!1,null,"6a5656b9",null);o.default=component.exports}}]);
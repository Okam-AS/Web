(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{496:function(t,e,r){"use strict";var o=r(500).has;t.exports=function(t){return o(t),t}},500:function(t,e,r){"use strict";var o=r(12),n=Set.prototype;t.exports={Set:Set,add:o(n.add),has:o(n.has),remove:o(n.delete),proto:n}},501:function(t,e,r){"use strict";var o=r(12),n=r(309),l=r(500),c=l.Set,d=l.proto,m=o(d.forEach),f=o(d.keys),v=f(new c).next;t.exports=function(t,e,r){return r?n({iterator:f(t),next:v},e):m(t,e)}},504:function(t,e,r){"use strict";var o=r(54),n=r(16),l=r(691),c=r(32),d=o("Set");t.exports=function(t){return function(t){return c(t)&&"number"==typeof t.size&&n(t.has)&&n(t.keys)}(t)?t:l(t)?new d(t):t}},505:function(t,e,r){"use strict";var o=r(53),n=r(25),l=r(20),c=r(80),d=r(693),m="Invalid size",f=RangeError,v=TypeError,h=Math.max,w=function(t,e,r,o){this.set=t,this.size=e,this.has=r,this.keys=o};w.prototype={getIterator:function(){return d(n(l(this.keys,this.set)))},includes:function(t){return l(this.has,this.set,t)}},t.exports=function(t){n(t);var e=+t.size;if(e!=e)throw v(m);var r=c(e);if(r<0)throw f(m);return new w(t,h(r,0),o(t.has),o(t.keys))}},512:function(t,e,r){"use strict";var o=r(314),n=r(500);t.exports=o(n.proto,"size","get")||function(t){return t.size}},516:function(t,e,r){"use strict";var o=r(500),n=r(501),l=o.Set,c=o.add;t.exports=function(t){var e=new l;return n(t,(function(t){c(e,t)})),e}},557:function(t,e,r){"use strict";r(685)},559:function(t,e,r){var content=r(719);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(120).default)("58dc56ce",content,!0,{sourceMap:!1})},685:function(t,e,r){"use strict";var o=r(7),n=r(20),l=r(12),c=r(46),d=r(16),m=r(58),f=r(152),v=r(23),h=r(74),w=r(201),y=r(316),x=r(17),_=r(39),k=x("replace"),I=TypeError,S=l("".indexOf),M=l("".replace),C=l("".slice),A=Math.max,j=function(t,e,r){return r>t.length?-1:""===e?r:S(t,e,r)};o({target:"String",proto:!0},{replaceAll:function(t,e){var r,o,l,x,N,R,O,L,D,E=c(this),P=0,T=0,z="";if(!m(t)){if((r=f(t))&&(o=v(c(w(t))),!~S(o,"g")))throw I("`.replaceAll` does not allow non-global regexes");if(l=h(t,k))return n(l,t,E,e);if(_&&r)return M(v(E),t,e)}for(x=v(E),N=v(t),(R=d(e))||(e=v(e)),O=N.length,L=A(1,O),P=j(x,N,0);-1!==P;)D=R?v(e(N,P,x)):y(N,x,P,[],void 0,e),z+=C(x,T,P)+D,T=P+O,P=j(x,N,P+L);return T<x.length&&(z+=C(x,T)),z}})},686:function(t,e,r){"use strict";r(687)},687:function(t,e,r){"use strict";r(323)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(324))},688:function(t,e,r){"use strict";var o=r(7),n=r(496),l=r(500).add;o({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=n(this),e=0,r=arguments.length;e<r;e++)l(t,arguments[e]);return t}})},689:function(t,e,r){"use strict";var o=r(7),n=r(496),l=r(500).remove;o({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=n(this),r=!0,o=0,c=arguments.length;o<c;o++)t=l(e,arguments[o]),r=r&&t;return!!r}})},690:function(t,e,r){"use strict";var o=r(7),n=r(20),l=r(504),c=r(692);o({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return n(c,this,l(t))}})},691:function(t,e,r){"use strict";var o=r(99),n=r(24),l=r(58),c=r(17),d=r(100),m=c("iterator"),f=Object;t.exports=function(t){if(l(t))return!1;var e=f(t);return void 0!==e[m]||"@@iterator"in e||n(d,o(e))}},692:function(t,e,r){"use strict";var o=r(496),n=r(500),l=r(516),c=r(512),d=r(505),m=r(501),f=r(309),v=n.has,h=n.remove;t.exports=function(t){var e=o(this),r=d(t),n=l(e);return c(e)<=r.size?m(e,(function(t){r.includes(t)&&h(n,t)})):f(r.getIterator(),(function(t){v(e,t)&&h(n,t)})),n}},693:function(t,e,r){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},694:function(t,e,r){"use strict";var o=r(7),n=r(38),l=r(496),c=r(501);o({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=l(this),r=n(t,arguments.length>1?arguments[1]:void 0);return!1!==c(e,(function(t){if(!r(t,t,e))return!1}),!0)}})},695:function(t,e,r){"use strict";var o=r(7),n=r(38),l=r(496),c=r(500),d=r(501),m=c.Set,f=c.add;o({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=l(this),r=n(t,arguments.length>1?arguments[1]:void 0),o=new m;return d(e,(function(t){r(t,t,e)&&f(o,t)})),o}})},696:function(t,e,r){"use strict";var o=r(7),n=r(38),l=r(496),c=r(501);o({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=l(this),r=n(t,arguments.length>1?arguments[1]:void 0),o=c(e,(function(t){if(r(t,t,e))return{value:t}}),!0);return o&&o.value}})},697:function(t,e,r){"use strict";var o=r(7),n=r(20),l=r(504),c=r(698);o({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return n(c,this,l(t))}})},698:function(t,e,r){"use strict";var o=r(496),n=r(500),l=r(512),c=r(505),d=r(501),m=r(309),f=n.Set,v=n.add,h=n.has;t.exports=function(t){var e=o(this),r=c(t),n=new f;return l(e)>r.size?m(r.getIterator(),(function(t){h(e,t)&&v(n,t)})):d(e,(function(t){r.includes(t)&&v(n,t)})),n}},699:function(t,e,r){"use strict";var o=r(7),n=r(20),l=r(504),c=r(700);o({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return n(c,this,l(t))}})},700:function(t,e,r){"use strict";var o=r(496),n=r(500).has,l=r(512),c=r(505),d=r(501),m=r(309),f=r(197);t.exports=function(t){var e=o(this),r=c(t);if(l(e)<=r.size)return!1!==d(e,(function(t){if(r.includes(t))return!1}),!0);var v=r.getIterator();return!1!==m(v,(function(t){if(n(e,t))return f(v,"normal",!1)}))}},701:function(t,e,r){"use strict";var o=r(7),n=r(20),l=r(504),c=r(702);o({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return n(c,this,l(t))}})},702:function(t,e,r){"use strict";var o=r(496),n=r(512),l=r(501),c=r(505);t.exports=function(t){var e=o(this),r=c(t);return!(n(e)>r.size)&&!1!==l(e,(function(t){if(!r.includes(t))return!1}),!0)}},703:function(t,e,r){"use strict";var o=r(7),n=r(20),l=r(504),c=r(704);o({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return n(c,this,l(t))}})},704:function(t,e,r){"use strict";var o=r(496),n=r(500).has,l=r(512),c=r(505),d=r(309),m=r(197);t.exports=function(t){var e=o(this),r=c(t);if(l(e)<r.size)return!1;var f=r.getIterator();return!1!==d(f,(function(t){if(!n(e,t))return m(f,"normal",!1)}))}},705:function(t,e,r){"use strict";var o=r(7),n=r(12),l=r(496),c=r(501),d=r(23),m=n([].join),f=n([].push);o({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=l(this),r=void 0===t?",":d(t),o=[];return c(e,(function(t){f(o,t)})),m(o,r)}})},706:function(t,e,r){"use strict";var o=r(7),n=r(38),l=r(496),c=r(500),d=r(501),m=c.Set,f=c.add;o({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=l(this),r=n(t,arguments.length>1?arguments[1]:void 0),o=new m;return d(e,(function(t){f(o,r(t,t,e))})),o}})},707:function(t,e,r){"use strict";var o=r(7),n=r(53),l=r(496),c=r(501),d=TypeError;o({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=l(this),r=arguments.length<2,o=r?void 0:arguments[1];if(n(t),c(e,(function(n){r?(r=!1,o=n):o=t(o,n,n,e)})),r)throw d("Reduce of empty set with no initial value");return o}})},708:function(t,e,r){"use strict";var o=r(7),n=r(38),l=r(496),c=r(501);o({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=l(this),r=n(t,arguments.length>1?arguments[1]:void 0);return!0===c(e,(function(t){if(r(t,t,e))return!0}),!0)}})},709:function(t,e,r){"use strict";var o=r(7),n=r(20),l=r(504),c=r(710);o({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return n(c,this,l(t))}})},710:function(t,e,r){"use strict";var o=r(496),n=r(500),l=r(516),c=r(505),d=r(309),m=n.add,f=n.has,v=n.remove;t.exports=function(t){var e=o(this),r=c(t).getIterator(),n=l(e);return d(r,(function(t){f(e,t)?v(n,t):m(n,t)})),n}},711:function(t,e,r){"use strict";var o=r(7),n=r(20),l=r(504),c=r(712);o({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return n(c,this,l(t))}})},712:function(t,e,r){"use strict";var o=r(496),n=r(500).add,l=r(516),c=r(505),d=r(309);t.exports=function(t){var e=o(this),r=c(t).getIterator(),m=l(e);return d(r,(function(t){n(m,t)})),m}},713:function(t,e,r){"use strict";r(7)({target:"Number",stat:!0},{isInteger:r(714)})},714:function(t,e,r){"use strict";var o=r(32),n=Math.floor;t.exports=Number.isInteger||function(t){return!o(t)&&isFinite(t)&&n(t)===t}},715:function(t,e,r){"use strict";r(7)({target:"Math",stat:!0},{trunc:r(312)})},718:function(t,e,r){"use strict";r(559)},719:function(t,e,r){var o=r(119)((function(i){return i[1]}));o.push([t.i,'.admin__content.admin__wrapper,.container{margin:0;max-width:100%;padding:0}.container{overflow-x:auto}.table-wrapper{padding:0}.modal-buttons{display:flex;gap:.75rem;margin-top:1.5rem}input{border:1px solid #e2e8f0;border-radius:.375rem;padding:.5rem .75rem;transition:all .2s}input:focus{border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,.1);outline:none}select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:1px solid #e2e8f0;border-radius:.375rem;padding:.5rem 2.5rem .5rem .75rem;position:relative}select:focus{border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,.1);outline:none}.select-wrapper{display:inline-block;position:relative}.select-wrapper:after{content:"üè†";pointer-events:none;position:absolute;right:.75rem;top:50%;transform:translateY(-50%)}.emoji-btn{background:#fff;border:1px solid #e2e8f0;border-radius:.375rem;cursor:pointer;font-weight:500;padding:.5rem 1rem;transition:all .2s}.emoji-btn:hover{background:#f8fafc;border-color:#cbd5e1}table{border-collapse:separate;border-spacing:0;margin:1.5rem 0;min-width:1200px;width:100%}table th{background:#f8fafc;border-bottom:2px solid #e2e8f0;color:#475569;font-size:.875rem;font-weight:600;padding:.75rem;text-align:left}table td{border-bottom:1px solid #e2e8f0;padding:.75rem;vertical-align:middle;width:1%}table td:nth-child(2){min-width:120px;width:12%}table td:nth-child(3){min-width:150px;width:15%}table td:nth-child(4){min-width:200px;width:20%}table td:nth-child(5){min-width:120px;width:12%}table td:nth-child(6){min-width:80px;width:80px}table td:nth-child(7),table td:nth-child(8),table td:nth-child(9){min-width:90px;width:90px}table td:nth-child(10),table td:nth-child(11){min-width:60px;width:60px}.store-categories-wrapper{align-items:center;display:flex;flex-wrap:wrap;gap:1rem}.categories-list,.store-categories-wrapper .button-group{display:flex;gap:.5rem}.categories-list{align-items:center}.categories-list span{font-size:.875rem;margin:0}.categories-inline{align-items:center;display:flex;flex-wrap:wrap;gap:.5rem}.category-tag{background:#f1f5f9;border:1px solid #e2e8f0;border-radius:1rem;color:#475569;font-size:.75rem;padding:.25rem .75rem;white-space:nowrap}.export-textarea{background:#f8fafc;border:1px solid #e2e8f0;border-radius:.375rem;font-family:ui-monospace,monospace;font-size:.875rem;line-height:1.5;margin:1rem 0;min-height:300px;padding:1rem;resize:vertical;width:100%}.export-textarea:focus{border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,.1);outline:none}.import-messages{background:#fefce8;border:1px solid #fef08a;border-radius:.375rem;color:#854d0e;margin:1rem 0;padding:1rem}.container::-webkit-scrollbar{height:8px}.container::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.container::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.container::-webkit-scrollbar-thumb:hover{background:#94a3b8}.full-width{box-sizing:border-box;min-width:100%;width:100%}.categories-section{margin-top:2rem}.categories-section h3{color:#475569;font-size:1rem;margin-bottom:.5rem}',""]),o.locals={},t.exports=o},837:function(t,e,r){"use strict";r.r(e);r(50),r(41),r(13),r(27),r(28),r(43),r(42),r(37),r(26),r(62),r(557);var o=r(79),n=(r(686),r(30),r(688),r(689),r(690),r(694),r(695),r(696),r(697),r(699),r(701),r(703),r(705),r(706),r(707),r(708),r(709),r(711),r(31),r(29),r(713),r(307),r(715),r(33),r(199),r(68),r(196),r(73),r(495)),l=r(494),c=r(502),d=r(802),m=r(497),f={components:{AdminPage:l.default,Modal:c.default,AutocompleteInput:d.default,LoginModal:m.default,Loading:n.default},data:function(){return{isLoading:!1,showModal:!1,showLogin:!1,selectedStore:null,replaceAll:!1,rows:[],importResponse:{},importMessage:"",isVerified:!1,showClearRowsModal:!1,categories:[],showExportModal:!1,importMode:!0,exportData:"",importData:"",importCompleted:!1,aiImportMessage:"",isAILoading:!1,aiMenuText:"",aiExtraInstructions:"",aiImportCompleted:!1,showAIModal:!1,showAIConfirmModal:!1,aiImportData:null}},computed:{allCategoryNames:function(){var t=this.getAllDisctinct("categoryName"),e=this.categories.map((function(t){return t.name}));return Object(o.a)(new Set([].concat(Object(o.a)(t),Object(o.a)(e))))},allProductNames:function(){return this.getAllDisctinct("name")},allProductDescriptions:function(){return this.getAllDisctinct("description")},allProductOtherInformations:function(){return this.getAllDisctinct("otherInformation")},emptyRow:function(){return{categoryName:"",name:"",description:"",otherInformation:"",priceModel:0,priceAmount:0,tax:15,tableAdditionalModel:0,tableAdditionalAmount:0,tableTax:25,depositModel:0,depositAmount:0,soldOut:!1}}},watch:{rows:{handler:function(t){!Array.isArray(t)||t.length<1?this.rows=[this.emptyRow]:1!==t.length&&this.isEmptyRow(t[t.length-1])||this.addEmptyRow(),window&&window.localStorage&&localStorage.setItem("importRows",JSON.stringify(t))},deep:!0},selectedStore:function(t){t>0?this.getCategories():this.categories=[],window&&window.localStorage&&localStorage.setItem("importSelectedStore",t)},showExportModal:function(t){t&&(this.exportData=JSON.stringify({storeId:this.selectedStore,replaceAll:this.replaceAll,rows:this.rows.slice(0,-1)},null,2))}},mounted:function(){var t;this.$store.getters.userIsLoggedIn?(this.init(),!this.selectedStore&&null!==(t=this.$store.state.currentUser.adminIn)&&void 0!==t&&t.length&&(this.selectedStore=this.$store.state.currentUser.adminIn[0].id)):this.showLogin=!0},methods:{init:function(){if(window&&window.localStorage){var t=localStorage.getItem("importRows"),e=localStorage.getItem("importSelectedStore");t?this.$set(this,"rows",JSON.parse(t)):this.clearRows(),e&&(this.selectedStore=parseInt(e))}},closeLoginModal:function(t){this.showLogin=!t,t&&this.init()},clearRows:function(){this.replaceAll=!1,this.rows=[JSON.parse(JSON.stringify(this.emptyRow)),JSON.parse(JSON.stringify(this.emptyRow))],this.showClearRowsModal=!1,this.importResponse={},window&&window.localStorage&&localStorage.removeItem("importRows")},amountChange:function(t,e,r){isNaN(parseInt(r))||!Number.isInteger(parseInt(r))||parseInt(r)<0||parseInt(r)>1e4?(this.rows[t][e+"Model"]=0,this.rows[t][e+"Amount"]=0):this.rows[t][e+"Amount"]=Math.trunc(100*(null!=r?r:0))},taxChange:function(t,e,r){t&&t.target&&!isNaN(parseInt(t.target.value))&&Number.isInteger(parseInt(t.target.value))||(this.rows[r][e]=0),t.target.value>99&&(this.rows[r][e]=99),t.target.value<0&&(this.rows[r][e]=0),this.rows[r][e]=parseInt(t.target.value)},getAllDisctinct:function(t){return this.rows.map((function(e){return e[t]})).filter((function(t,e,r){return r.indexOf(t)===e&&!!t}))},isEmptyRow:function(t){if(!t)return!0;var e=this,r=!0;return Object.keys(this.emptyRow).forEach((function(o){t[o]!==e.emptyRow[o]&&(r=!1)})),r},deleteRow:function(t){this.$delete(this.rows,t)},addEmptyRow:function(){this.rows.push(JSON.parse(JSON.stringify(this.emptyRow)))},copyRow:function(t){var e=JSON.parse(JSON.stringify(this.rows[t]));this.rows.splice(t,0,e)},closeModal:function(){this.isVerified=!1,this.showModal=!1,this.importMessage="",this.importCompleted=!1},closeAIModal:function(){this.showAIModal=!1,this.aiImportCompleted=!1,this.aiImportMessage="",this.isAILoading=!1,this.aiImportData=null},getFailedMessage:function(t,e){if(!this.importResponse||!Array.isArray(this.importResponse.failed))return"";var r=this.importResponse.failed.find((function(r){return r.rowNumber===t+1&&r.rowKey.toLowerCase()===e.toLowerCase()}));return r?r.reason:""},getCategories:function(){var t=this;this._categoryService.GetAll(this.selectedStore,!0).then((function(e){t.categories=e})).catch((function(t){console.error("Failed to load categories:",t)}))},runImport:function(t){var e=this;e.importMessage="",e.importCompleted&&!t||(e.selectedStore<=0?e.importMessage="Velg butikk f√∏rst":(e.isLoading=!0,e._productService.BulkImport({storeId:this.selectedStore,currency:"NOK",verifyOnly:t,replaceAll:e.replaceAll,rows:JSON.parse(JSON.stringify(e.rows)).slice(0,e.rows.length-1)}).then((function(r){e.importResponse=r,Array.isArray(e.importResponse.failed)&&0===e.importResponse.failed.length?(e.isVerified=!0,e.importMessage=t?"Dette ser bra ut! √ònsker du √• gjennomf√∏re denne handlingen:":"Ferdig! Dette ble gjennomf√∏rt:",t||(e.importCompleted=!0,e.getCategories())):(e.importMessage="Ser ut noen felter er feil. Lukk denne modalen for √• se gjennom feltene som er markert med r√∏dt",e.isVerified=!1,e.importResponse.createdProductCount=0,e.importResponse.deletedProductCount=0,console.log(r))})).catch((function(t){e.importMessage="Noe gikk galt her. Mest sannsynlig var det noen produkter som ikke kunne slettes. Kontakt systemansvarlig for mer hjelp.",e.isVerified=!1,e.importResponse.createdProductCount=0,e.importResponse.deletedProductCount=0,console.log(t)})).finally((function(){e.isLoading=!1}))))},runAIImport:function(){var t=this;if(t.aiImportMessage="Starter import...",t.selectedStore<=0)t.aiImportMessage="Velg butikk f√∏rst";else if(t.aiMenuText&&""!==t.aiMenuText.trim()){t.isAILoading=!0;var e=0,r=["Leser gjennom menyoppf√∏ringer...","Analyserer priser og kategorier...","Strukturerer menyelementer...","Henter ut produktdetaljer...","Formaterer data for import...","Nesten ferdig..."],o=setInterval((function(){t.isAILoading?(t.aiImportMessage=r[e%r.length],e++):clearInterval(o)}),4e3);t._aiService.MenuToJson(t.selectedStore,t.aiMenuText,t.aiExtraInstructions).then((function(e){if(clearInterval(o),t.isAILoading=!1,e&&Array.isArray(e.rows)&&e.rows.length>0){t.aiImportMessage="Menyen er konvertert til JSON format.",t.aiImportCompleted=!0;var r=e.rows||[];t.rows.some((function(t){return t.name||t.description}))?(t.aiImportData=r,t.showAIConfirmModal=!0):(t.rows=r,t.closeAIModal())}else t.aiImportMessage="Feil ved import: Ingen produkter ble funnet i menyteksten. Pr√∏v √• omformulere eller legg til mer detaljer.",t.aiImportCompleted=!1})).catch((function(e){clearInterval(o),console.error("Error running AI import:",e),t.isAILoading=!1,t.aiImportMessage="Feil ved import: ".concat(e.message||"Ukjent feil"),t.aiImportCompleted=!1}))}else t.aiImportMessage="Vennligst lim inn menytekst"},handleAIConfirm:function(t){if(t)this.rows=this.aiImportData;else{var e=Object(o.a)(this.rows);e.length>0&&this.isEmptyRow(e[e.length-1])&&e.pop(),this.rows=[].concat(Object(o.a)(e),Object(o.a)(this.aiImportData))}this.showAIConfirmModal=!1,this.closeAIModal()},copyToClipboard:function(){navigator.clipboard.writeText(this.exportData)},importSavedData:function(){try{var data=JSON.parse(this.importData);data.rows&&Array.isArray(data.rows)&&(this.rows=data.rows,this.selectedStore=data.storeId||0,this.replaceAll=data.replaceAll||!1,this.showExportModal=!1,this.importData="")}catch(t){alert("Invalid import data format")}}}},v=(r(718),r(78)),component=Object(v.a)(f,(function(){var t=this,e=t._self._c;return e("AdminPage",[e("div",{staticClass:"container"},[e("div",{staticClass:"table-wrapper"},[e("div",{staticStyle:{margin:"1em"}},[e("h1",{staticStyle:{"margin-bottom":"0.5em"}},[t._v("\n          Import\n        ")]),t._v(" "),e("p",{staticStyle:{"margin-bottom":"1.5em"}},[t._v("\n          Et nyttig verkt√∏y for f√∏rstegangsimport av varer, for √• opprette produkter og kategorier\n        ")]),t._v(" "),e("div",{staticClass:"store-categories-wrapper"},[e("div",{staticClass:"select-wrapper"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedStore,expression:"selectedStore"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedStore=e.target.multiple?r:r[0]}}},t._l(t.$store.state.currentUser.adminIn,(function(option){return e("option",{key:option.id,domProps:{value:option.id}},[t._v("\n                "+t._s(option.name)+" ("+t._s(option.id)+")\n              ")])})),0)]),t._v(" "),e("div",{staticClass:"button-group"},[e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"üëì Verifiser og importer"},on:{click:function(e){t.showModal=!0}}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"ü§ñ AI Import"},on:{click:function(e){t.showAIModal=!0}}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"üÜë T√∏m alle rader"},on:{click:function(e){t.showClearRowsModal=!0}}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"üíæ Eksport/Import"},on:{click:function(e){t.showExportModal=!0}}})])]),t._v(" "),t.selectedStore>0?e("div",{staticClass:"categories-section"},[e("h3",[t._v("Kategorier")]),t._v(" "),e("div",{staticClass:"categories-list"},[e("div",{staticClass:"categories-inline"},t._l(t.categories,(function(r){return e("span",{key:r.id,staticClass:"category-tag"},[t._v("\n                "+t._s(r.name)+"\n              ")])})),0)])]):t._e()]),t._v(" "),[e("div",{staticStyle:{margin:"1em"}}),t._v(" "),e("table",[e("tbody",[e("tr",[e("th"),t._v(" "),e("th",[t._v("Kategorinavn")]),t._v(" "),e("th",[t._v("Produktnavn")]),t._v(" "),e("th",{staticStyle:{"min-width":"300px"}},[t._v("\n                Produktbeskrivelse\n              ")]),t._v(" "),e("th",[t._v("Allergener")]),t._v(" "),e("th",[t._v("Pris")]),t._v(" "),e("th",[t._v("Take away MVA (%)")]),t._v(" "),e("th",[t._v("Tillegg for spis inne")]),t._v(" "),e("th",[t._v("Spis inne MVA (%)")]),t._v(" "),e("th",[t._v("Pant")]),t._v(" "),e("th",[t._v("Utsolgt")])]),t._v(" "),t._l(t.rows,(function(r,o){return e("tr",{key:o},[e("td",{staticClass:"row-count"},[t._v("\n                "+t._s(o!==t.rows.length-1?o+1:"")+"\n              ")]),t._v(" "),e("td",[e("autocomplete-input",{staticClass:"full-width",attrs:{suggestions:t.allCategoryNames,type:"text","server-error-message":t.getFailedMessage(o,"categoryName")},model:{value:r.categoryName,callback:function(e){t.$set(r,"categoryName",e)},expression:"row.categoryName"}})],1),t._v(" "),e("td",[e("autocomplete-input",{staticClass:"full-width",attrs:{suggestions:t.allProductNames,type:"text","server-error-message":t.getFailedMessage(o,"name")},model:{value:r.name,callback:function(e){t.$set(r,"name",e)},expression:"row.name"}})],1),t._v(" "),e("td",[e("autocomplete-input",{staticClass:"full-width",attrs:{suggestions:t.allProductDescriptions,"min-length":0,"max-length":400,multiline:!0,type:"text","server-error-message":t.getFailedMessage(o,"description")},model:{value:r.description,callback:function(e){t.$set(r,"description",e)},expression:"row.description"}})],1),t._v(" "),e("td",[e("autocomplete-input",{staticClass:"full-width",attrs:{suggestions:t.allProductOtherInformations,"min-length":0,type:"text","server-error-message":t.getFailedMessage(o,"otherInformation")},model:{value:r.otherInformation,callback:function(e){t.$set(r,"otherInformation",e)},expression:"row.otherInformation"}})],1),t._v(" "),e("td",[e("currency-input",{staticStyle:{width:"80px"},attrs:{currency:"NOK"},on:{change:function(e){return t.amountChange(o,"price",e)}},model:{value:r.priceModel,callback:function(e){t.$set(r,"priceModel",e)},expression:"row.priceModel"}})],1),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:r.tax,expression:"row.tax"}],staticClass:"full-width",attrs:{type:"number",pattern:"[0-9]{2}",min:"0",max:"99"},domProps:{value:r.tax},on:{change:function(e){return t.taxChange(e,"tax",o)},input:function(e){e.target.composing||t.$set(r,"tax",e.target.value)}}})]),t._v(" "),e("td",[e("currency-input",{staticStyle:{width:"90px"},attrs:{currency:"NOK"},on:{change:function(e){return t.amountChange(o,"tableAdditional",e)}},model:{value:r.tableAdditionalModel,callback:function(e){t.$set(r,"tableAdditionalModel",e)},expression:"row.tableAdditionalModel"}})],1),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:r.tableTax,expression:"row.tableTax"}],staticClass:"full-width",attrs:{type:"number",pattern:"[0-9]{2}",min:"0",max:"99"},domProps:{value:r.tableTax},on:{change:function(e){return t.taxChange(e,"tableTax",o)},input:function(e){e.target.composing||t.$set(r,"tableTax",e.target.value)}}})]),t._v(" "),e("td",[e("currency-input",{staticStyle:{width:"60px"},attrs:{currency:"NOK"},on:{change:function(e){return t.amountChange(o,"deposit",e)}},model:{value:r.depositModel,callback:function(e){t.$set(r,"depositModel",e)},expression:"row.depositModel"}})],1),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:r.soldOut,expression:"row.soldOut"}],staticStyle:{"margin-left":"1.5em"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(r.soldOut)?t._i(r.soldOut,null)>-1:r.soldOut},on:{change:function(e){var o=r.soldOut,n=e.target,l=!!n.checked;if(Array.isArray(o)){var c=t._i(o,null);n.checked?c<0&&t.$set(r,"soldOut",o.concat([null])):c>-1&&t.$set(r,"soldOut",o.slice(0,c).concat(o.slice(c+1)))}else t.$set(r,"soldOut",l)}}})]),t._v(" "),o!==t.rows.length-1||t.rows.length<2?e("td",[e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"üîÇ Dupliser rad"},on:{click:function(e){return t.copyRow(o)}}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"‚ûñ Fjern rad"},on:{click:function(e){return t.deleteRow(o)}}})]):t._e()])}))],2)])],t._v(" "),t.showModal?e("Modal",{on:{close:t.closeModal}},[e("h1",{staticStyle:{"margin-bottom":"1em"}},[t._v("\n          Importer\n        ")]),t._v(" "),t.importCompleted?t._e():e("div",{staticStyle:{margin:"1em 0 1em 0"}},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.replaceAll,expression:"replaceAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.replaceAll)?t._i(t.replaceAll,null)>-1:t.replaceAll},on:{change:function(e){var r=t.replaceAll,o=e.target,n=!!o.checked;if(Array.isArray(r)){var l=t._i(r,null);o.checked?l<0&&(t.replaceAll=r.concat([null])):l>-1&&(t.replaceAll=r.slice(0,l).concat(r.slice(l+1)))}else t.replaceAll=n}}}),t._v("\n            Slett alle eksisterende produkter f√∏r import")])]),t._v(" "),t.importMessage?e("div",{staticClass:"import-messages"},[e("p",[t._v("\n            "+t._s(t.importMessage)+"\n          ")]),t._v(" "),t.importResponse.createdProductCount?e("p",[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("Antall import av produkter: ")]),t._v(" "),e("span",[t._v(t._s(t.importResponse.createdProductCount))])]):t._e(),t._v(" "),t.importResponse.deletedProductCount?e("p",[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("Antall sletting av produkter: ")]),t._v(" "),e("span",[t._v(t._s(t.importResponse.deletedProductCount))])]):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"modal-buttons"},[t.isVerified?e("input",{staticClass:"emoji-btn",style:{opacity:t.importCompleted?.5:1},attrs:{type:"button",value:"‚úÖ Godkjenn og importer",disabled:t.importCompleted},on:{click:function(e){return t.runImport(!1)}}}):t._e(),t._v(" "),t.importCompleted?t._e():e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"üëì Verifiser"},on:{click:function(e){return t.runImport(!0)}}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"Lukk"},on:{click:t.closeModal}})]),t._v(" "),e("Loading",{attrs:{loading:t.isLoading}})],1):t._e(),t._v(" "),t.showAIModal?e("Modal",{on:{close:t.closeAIModal}},[e("div",{staticStyle:{width:"100%","min-width":"500px"}},[e("h1",{staticStyle:{"margin-bottom":"1.5em"}},[t._v("\n            AI Import\n          ")]),t._v(" "),t.aiImportCompleted?e("div",[e("div",{staticClass:"import-message",staticStyle:{margin:"1.5em 0",padding:"1em","background-color":"#f8f9fa","border-radius":"0.375rem"}},[t._v("\n              "+t._s(t.aiImportMessage)+"\n            ")]),t._v(" "),e("div",{staticClass:"button-group",staticStyle:{"margin-top":"2em"}},[e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"Lukk"},on:{click:t.closeAIModal}})])]):e("div",{staticStyle:{margin:"1em 0 1em 0"}},[e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"1.5em"}},[e("label",{staticStyle:{display:"block","margin-bottom":"0.5em"}},[t._v("Lim inn menyen som tekst")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.aiMenuText,expression:"aiMenuText"}],staticClass:"form-control",staticStyle:{width:"100%",padding:"0.5rem 0.75rem","border-radius":"0.375rem",border:"1px solid #e2e8f0","min-height":"200px",resize:"vertical","font-family":"inherit","line-height":"1.5"},attrs:{rows:"10"},domProps:{value:t.aiMenuText},on:{input:function(e){e.target.composing||(t.aiMenuText=e.target.value)}}}),t._v(" "),e("div",{staticStyle:{"margin-top":"0.5em","font-size":"0.85em",color:"#718096"}},[t._v("\n                Merk: For lange menyer kan bli avkortet. Importer 2-3 kategorier av gangen for best resultat.\n              ")])]),t._v(" "),e("div",{staticClass:"form-group",staticStyle:{"margin-bottom":"1.5em"}},[e("label",{staticStyle:{display:"block","margin-bottom":"0.5em"}},[t._v("Ekstra instruksjoner (valgfritt)")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.aiExtraInstructions,expression:"aiExtraInstructions"}],staticClass:"form-control",staticStyle:{width:"100%",padding:"0.5rem 0.75rem","border-radius":"0.375rem",border:"1px solid #e2e8f0",resize:"vertical","font-family":"inherit","line-height":"1.5"},attrs:{rows:"4"},domProps:{value:t.aiExtraInstructions},on:{input:function(e){e.target.composing||(t.aiExtraInstructions=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"button-group",staticStyle:{"margin-top":"2em","margin-bottom":"1.5em"}},[e("input",{staticClass:"emoji-btn",attrs:{disabled:t.isAILoading||t.selectedStore<=0,type:"button",value:"üöÄ Importer"},on:{click:t.runAIImport}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"Lukk"},on:{click:t.closeAIModal}})]),t._v(" "),t.aiImportMessage?e("div",{staticClass:"import-message",staticStyle:{"margin-top":"1.5em",padding:"1em","background-color":"#f8f9fa","border-radius":"0.375rem"}},[t._v("\n              "+t._s(t.aiImportMessage)+"\n            ")]):t._e(),t._v(" "),t.isAILoading?e("Loading"):t._e()],1)])]):t._e(),t._v(" "),t.showAIConfirmModal?e("Modal",{on:{close:function(e){t.showAIConfirmModal=!1}}},[e("h1",{staticStyle:{"margin-bottom":"1em"}},[t._v("\n          Bekreft AI-import\n        ")]),t._v(" "),e("p",[t._v("Du har allerede eksisterende rader. √ònsker du √• erstatter disse med nye rader eller legge dem til?")]),t._v(" "),e("p",{staticStyle:{"margin-top":"0.5em","font-size":"0.9em"}},[t._v("\n          "+t._s(t.aiImportData?t.aiImportData.length:0)+" nye produkter er klare for import.\n        ")]),t._v(" "),e("div",{staticClass:"modal-buttons"},[e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"Erstatt eksisterende rader"},on:{click:function(e){return t.handleAIConfirm(!0)}}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"Legg til nye rader"},on:{click:function(e){return t.handleAIConfirm(!1)}}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"Avbryt"},on:{click:function(e){t.showAIConfirmModal=!1}}})])]):t._e(),t._v(" "),t.showLogin?e("LoginModal",{on:{close:t.closeLoginModal}}):t._e(),t._v(" "),t.showClearRowsModal?e("Modal",{on:{close:function(e){t.showClearRowsModal=!1}}},[e("p",[t._v("\n          Er du sikker p√• at du √∏nsker √• fjerne alle rader fra denne tabellen? Produkter som allerede er importert\n          vil ikke\n          bli ber√∏rt.\n        ")]),t._v(" "),e("div",{staticClass:"modal-buttons"},[e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"üÜë T√∏m alle rader"},on:{click:t.clearRows}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"Lukk"},on:{click:function(e){t.showClearRowsModal=!1}}})])]):t._e(),t._v(" "),t.showExportModal?e("Modal",{on:{close:function(e){t.showExportModal=!1}}},[e("h1",{staticStyle:{"margin-bottom":"1em"}},[t._v("\n          Eksport/Import Data\n        ")]),t._v(" "),t.importMode?e("div",{staticClass:"import-container"},[e("p",[t._v("Lim inn din lagrede importkonfigurasjon her:")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.importData,expression:"importData"}],staticClass:"export-textarea",attrs:{placeholder:"Lim inn importdata her..."},domProps:{value:t.importData},on:{input:function(e){e.target.composing||(t.importData=e.target.value)}}}),t._v(" "),e("div",{staticClass:"modal-buttons"},[e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"üì• Importer data"},on:{click:t.importSavedData}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"üì§ Bytt til eksport"},on:{click:function(e){t.importMode=!1}}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"Lukk"},on:{click:function(e){t.showExportModal=!1}}})])]):e("div",{staticClass:"export-container"},[e("p",[t._v("Kopier denne dataen for √• lagre din n√•v√¶rende importkonfigurasjon:")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.exportData,expression:"exportData"}],staticClass:"export-textarea",attrs:{readonly:""},domProps:{value:t.exportData},on:{focus:function(t){return t.target.select()},input:function(e){e.target.composing||(t.exportData=e.target.value)}}}),t._v(" "),e("div",{staticClass:"modal-buttons"},[e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"üìã Kopier til utklippstavle"},on:{click:t.copyToClipboard}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"üì• Bytt til import"},on:{click:function(e){t.importMode=!0}}}),t._v(" "),e("input",{staticClass:"emoji-btn",attrs:{type:"button",value:"Lukk"},on:{click:function(e){t.showExportModal=!1}}})])])]):t._e()],2)])])}),[],!1,null,null,null);e.default=component.exports}}]);
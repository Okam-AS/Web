(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{574:function(t,e,o){var content=o(749);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(120).default)("3480c2df",content,!0,{sourceMap:!1})},748:function(t,e,o){"use strict";o(574)},749:function(t,e,o){var r=o(119)((function(i){return i[1]}));r.push([t.i,'.overview[data-v-f23cdf84]{padding:1rem}.overview__content[data-v-f23cdf84]{background-color:#fff;border-radius:.5rem;box-shadow:0 1px 3px rgba(0,0,0,.1);padding:1.5rem}.overview__filters[data-v-f23cdf84]{display:flex;flex-direction:column;margin-bottom:1.5rem}@media (min-width:768px){.overview__filters[data-v-f23cdf84]{flex-direction:row}}.overview__filter[data-v-f23cdf84]{align-items:center;display:flex;margin-bottom:1rem;margin-right:1rem}@media (min-width:768px){.overview__filter[data-v-f23cdf84]{margin-bottom:0}}.overview__filter label[data-v-f23cdf84]{font-weight:500;margin-right:.5rem}.date-selection[data-v-f23cdf84]{align-items:center;display:flex;width:100%}.date-picker-wrapper[data-v-f23cdf84]{align-items:flex-start;display:flex;flex-direction:column;gap:.75rem;position:relative;width:100%}@media (min-width:640px){.date-picker-wrapper[data-v-f23cdf84]{align-items:flex-end;flex-direction:row}}.date-input[data-v-f23cdf84]{display:flex;flex-direction:column;width:100%}@media (min-width:640px){.date-input[data-v-f23cdf84]{width:auto}}.date-input label[data-v-f23cdf84]{color:#4a5568;font-size:.875rem;font-weight:500;margin-bottom:.25rem}.date-input input[data-v-f23cdf84]{background-color:#fff;border:1px solid #e2e8f0;border-radius:.25rem;padding:.5rem;width:100%}@media (min-width:640px){.date-input input[data-v-f23cdf84]{width:auto}}.date-buttons[data-v-f23cdf84]{align-items:center;display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.loading-container[data-v-f23cdf84]{align-items:center;display:inline-flex;height:32px;margin-left:8px}.date-button[data-v-f23cdf84]{background-color:#f8f9fa;border:1px solid #e2e8f0;border-radius:.375rem;color:#292c34;cursor:pointer;font-weight:500;height:32px;line-height:1;padding:.5rem 1rem;transition:all .2s}.date-button[data-v-f23cdf84]:hover{background-color:#f0f2f5}.date-button-loading[data-v-f23cdf84]{align-items:center;display:flex;justify-content:center;margin:0;padding:0}.overview__table-container[data-v-f23cdf84]{-webkit-overflow-scrolling:touch;margin:0 -1rem;min-height:500px;overflow-x:auto;padding:0 1rem;position:relative}.overview__table-container[data-v-f23cdf84]:after,.overview__table-container[data-v-f23cdf84]:before{bottom:0;content:"";opacity:0;pointer-events:none;position:absolute;top:0;transition:opacity .3s;width:10px}.overview__table-container[data-v-f23cdf84]:before{background:linear-gradient(90deg,hsla(0,0%,100%,.9),hsla(0,0%,100%,0));left:0}.overview__table-container[data-v-f23cdf84]:after{background:linear-gradient(270deg,hsla(0,0%,100%,.9),hsla(0,0%,100%,0));right:0}.overview__table-container.scroll-left[data-v-f23cdf84]:before,.overview__table-container.scroll-right[data-v-f23cdf84]:after{opacity:1}.overview__table[data-v-f23cdf84]{border-collapse:collapse;min-height:100px;min-width:650px;width:100%}.overview__table td[data-v-f23cdf84],.overview__table th[data-v-f23cdf84]{border-bottom:1px solid #e2e8f0;padding:.75rem .5rem;text-align:left;white-space:nowrap}@media (min-width:768px){.overview__table td[data-v-f23cdf84],.overview__table th[data-v-f23cdf84]{padding:.75rem 1rem}}.overview__table th[data-v-f23cdf84]{background-color:#f7fafc;font-size:.875rem;font-weight:600}@media (min-width:768px){.overview__table th[data-v-f23cdf84]{font-size:1rem}}.overview__table td[data-v-f23cdf84]{font-size:.875rem}@media (min-width:768px){.overview__table td[data-v-f23cdf84]{font-size:1rem}}@media (max-width:767px){.kam-input[data-v-f23cdf84],.kam-status-dropdown[data-v-f23cdf84],.kam-textarea[data-v-f23cdf84]{background-position:right 8px top 50%;background-size:10px auto;font-size:12px;max-width:120px;min-width:80px;padding:6px 8px}.kam-textarea[data-v-f23cdf84]{max-height:80px;min-height:60px}.overview__table td[data-v-f23cdf84],.overview__table th[data-v-f23cdf84]{padding:.5rem .25rem}}.sortable-header[data-v-f23cdf84]{cursor:pointer;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.sortable-header[data-v-f23cdf84]:hover{background-color:#edf2f7}.sort-icon[data-v-f23cdf84]{display:inline-block;font-size:.75rem;margin-left:.25rem}.overview__table thead tr[data-v-f23cdf84]{min-height:48px}.overview__empty[data-v-f23cdf84]{color:#718096;padding:2rem!important;text-align:center}.status-badge[data-v-f23cdf84]{border-radius:9999px;cursor:pointer;display:inline-block;font-size:.75rem;font-weight:500;padding:.25rem .5rem}.status-badge--approved[data-v-f23cdf84]{background-color:#c6f6d5;color:#2f855a}.status-badge--pending[data-v-f23cdf84]{background-color:#fed7d7;color:#c53030}.status-spinner[data-v-f23cdf84]{animation:spin-f23cdf84 1s linear infinite;border:2px solid hsla(0,0%,100%,.3);border-radius:50%;border-top-color:#fff;display:inline-block;height:14px;width:14px}.status-badge--pending .status-spinner[data-v-f23cdf84]{border:2px solid hsla(0,0%,100%,.3);border-top-color:#c53030}@keyframes spin-f23cdf84{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.kam-leaderboard-container[data-v-f23cdf84]{background-color:#f8fafc;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,.05);margin:1rem 0 1.5rem;padding:.75rem}.kam-leaderboard-title[data-v-f23cdf84]{color:#2d3748;font-size:1.25rem;font-weight:600;margin-bottom:.75rem}.kam-leaderboard-scroll[data-v-f23cdf84]{-webkit-overflow-scrolling:touch;display:flex;overflow-x:auto;padding:.25rem 0;scrollbar-color:#cbd5e0 #f7fafc;scrollbar-width:thin}.kam-leaderboard-scroll[data-v-f23cdf84]::-webkit-scrollbar{height:6px}.kam-leaderboard-scroll[data-v-f23cdf84]::-webkit-scrollbar-track{background:#f7fafc;border-radius:3px}.kam-leaderboard-scroll[data-v-f23cdf84]::-webkit-scrollbar-thumb{background-color:#cbd5e0;border-radius:3px}.kam-card[data-v-f23cdf84]{background-color:#fff;border:1px solid #e2e8f0;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,.05);flex:0 0 auto;margin-bottom:.5rem;margin-right:1rem;overflow:hidden;padding:0;position:relative;transition:all .2s ease;width:240px}.kam-card[data-v-f23cdf84]:hover{box-shadow:0 2px 5px rgba(0,0,0,.08)}.kam-card--first[data-v-f23cdf84]{border-color:gold}.kam-card--second[data-v-f23cdf84]{border-color:silver}.kam-card--third[data-v-f23cdf84]{border-color:#cd7f32}.kam-card__rank[data-v-f23cdf84]{background-color:#4a5568;color:#fff;font-size:1.25rem;font-weight:600;padding:.5rem 0;text-align:center}.kam-card__rank--1[data-v-f23cdf84]{background-color:gold;color:#000}.kam-card__rank--2[data-v-f23cdf84]{background-color:silver;color:#000}.kam-card__rank--3[data-v-f23cdf84]{background-color:#cd7f32;color:#000}.kam-card__content[data-v-f23cdf84]{padding:1rem}.kam-card__name[data-v-f23cdf84]{border-bottom:1px solid #edf2f7;color:#2d3748;font-size:1.125rem;font-weight:600;margin-bottom:.75rem;padding-bottom:.5rem;text-align:center}.kam-card__earnings[data-v-f23cdf84]{background-color:#f7fafc;border-radius:4px;margin-bottom:.5rem;padding:.5rem}.kam-card__earnings--highlight[data-v-f23cdf84]{background-color:#f0f9ff;border-left:2px solid #4299e1}.kam-card__earnings-label[data-v-f23cdf84]{color:#718096;font-size:.875rem;margin-bottom:.25rem}.kam-card__earnings-value[data-v-f23cdf84]{color:#2d3748;font-size:1rem;font-weight:600}@media (max-width:640px){.kam-card[data-v-f23cdf84]{width:220px}}.filter-icon[data-v-f23cdf84]{align-items:center;background-color:#f0f2f5;border-radius:4px;color:#4a5568;cursor:pointer;display:inline-flex;justify-content:center;margin-left:.5rem;padding:4px;position:relative;transition:all .2s ease}.filter-icon[data-v-f23cdf84]:hover{background-color:#e2e8f0;color:#2d3748;transform:scale(1.05)}.filter-icon.active[data-v-f23cdf84]{background-color:#ebf5ff;color:#3182ce}.filter-icon-svg[data-v-f23cdf84]{height:16px;width:16px}.filter-dropdown[data-v-f23cdf84]{background-color:#fff;border:1px solid #e2e8f0;border-radius:6px;box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06);margin-top:.5rem;max-height:400px;min-height:50px;overflow-y:auto;position:absolute;right:0;top:100%;transform-origin:top right;width:450px;z-index:50}.filter-dropdown-options[data-v-f23cdf84]{max-height:250px;overflow-y:auto;padding:.5rem 0}.filter-dropdown-options label[data-v-f23cdf84]{align-items:center;cursor:pointer;display:flex;padding:.5rem .75rem;transition:background-color .2s}.filter-dropdown-options label[data-v-f23cdf84]:hover{background-color:#f7fafc}.filter-dropdown-options input[type=checkbox][data-v-f23cdf84]{margin-right:.5rem}.info-icon[data-v-f23cdf84]{cursor:help;display:inline-flex;margin-left:5px;position:relative;vertical-align:middle}.info-icon svg[data-v-f23cdf84]{color:#666}.info-icon:hover svg[data-v-f23cdf84]{color:#333}.status-info-tooltip[data-v-f23cdf84]{background-color:#fff;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 8px rgba(0,0,0,.15);display:none;margin-top:5px;padding:10px 15px;position:absolute;right:0;text-align:left;top:100%;width:450px;z-index:100}.info-icon:hover .status-info-tooltip[data-v-f23cdf84]{display:block}.status-info-tooltip h4[data-v-f23cdf84]{color:#333;font-size:14px;margin-bottom:8px;margin-top:0}.status-info-tooltip ul[data-v-f23cdf84]{margin:0;padding-left:15px}.status-info-tooltip li[data-v-f23cdf84]{color:#555;font-size:12px;margin-bottom:5px}.status-info-tooltip strong[data-v-f23cdf84]{color:#333}.kam-input[data-v-f23cdf84],.kam-status-dropdown[data-v-f23cdf84]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;background-image:url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.6%205.4-7.9%205.4-12.9%200-5-1.9-9.2-5.5-12.7z%22%2F%3E%3C%2Fsvg%3E");background-position:right 12px top 50%;background-repeat:no-repeat;background-size:12px auto;border:1px solid #e2e8f0;border-radius:6px;box-shadow:0 1px 2px rgba(0,0,0,.05);cursor:pointer;font-size:14px;padding:8px 12px;transition:all .2s;width:100%}.kam-input[data-v-f23cdf84]:focus,.kam-status-dropdown[data-v-f23cdf84]:focus{border-color:#4a90e2;box-shadow:0 0 0 3px rgba(74,144,226,.2);outline:none}.kam-input[data-v-f23cdf84]:hover,.kam-status-dropdown[data-v-f23cdf84]:hover{border-color:#a0aec0}.kam-textarea[data-v-f23cdf84]{background-color:#fff;border:1px solid #e2e8f0;border-radius:6px;box-shadow:0 1px 2px rgba(0,0,0,.05);font-size:14px;min-height:80px;padding:8px 12px;resize:vertical;transition:all .2s ease;width:100%}.kam-textarea[data-v-f23cdf84]:focus{border-color:#4a90e2;box-shadow:0 0 0 3px rgba(74,144,226,.2);outline:none}.kam-textarea[data-v-f23cdf84]:hover{border-color:#a0aec0}',""]),r.locals={},t.exports=r},845:function(t,e,o){"use strict";o.r(e);o(27),o(57),o(61),o(50),o(41),o(13);var r=o(79),n=o(10),d=(o(308),o(68),o(33),o(199),o(42),o(29),o(494)),l=o(495),c=o(204),f=o(200),m=o.n(f),v=o(4),h={components:{AdminPage:d.default,Loading:l.default},data:function(){var t;return{isLoading:!1,showKAMColumns:!1,storeOverview:[],kams:[],sortKey:"name",sortOrder:"asc",dateRange:{from:null,to:null},selectedKamFilters:[],tempSelectedKamFilters:[],showKamFilterDropdown:!1,publishingStoreIds:[],kamStatusTranslations:(t={},Object(n.a)(t,v.e.MissingSetup,"Mangler oppsett"),Object(n.a)(t,v.e.ReadyForDemo,"Klar for demo"),Object(n.a)(t,v.e.WaitingForCustomerResponse,"Venter på kundesvar"),Object(n.a)(t,v.e.RequiresFollowUp,"Krever oppfølging"),Object(n.a)(t,v.e.InOperation,"I drift"),Object(n.a)(t,v.e.Deleted,"Slettet"),t),selectedKamStatusFilters:[],tempSelectedKamStatusFilters:[],showKamStatusFilterDropdown:!1,totalOrderCount:0,totalAmountSum:0}},computed:{sortedStores:function(){var t=this,e=this.sortKey,o="asc"===this.sortOrder?1:-1,n=Object(r.a)(this.storeOverview);return this.selectedKamFilters.length>0&&this.selectedKamFilters.length<this.kams.length+1&&(n=n.filter((function(e){return t.selectedKamFilters.includes(e.kamUserId||"")}))),this.selectedKamStatusFilters.length>0&&(n=n.filter((function(e){return t.selectedKamStatusFilters.includes(e.kamStatus)}))),n.sort((function(a,b){var r=a[e],n=b[e];if("kamUserId"===e){var d=t.kams.find((function(t){return t.id===r})),l=t.kams.find((function(t){return t.id===n}));r=d?d.name:"",n=l?l.name:""}return"string"==typeof r&&"string"==typeof n?r.localeCompare(n)*o:"boolean"==typeof r?r===n?0:(r?1:-1)*o:(r-n)*o}))},sortedKams:function(){return console.log(this.kams),this.kams.filter((function(t){return t.onetimeBonusEarned>0})).sort((function(a,b){return b.onetimeBonusEarned-a.onetimeBonusEarned}))}},watch:Object(n.a)({sortedStores:{handler:function(t){this.totalOrderCount=t.reduce((function(t,s){return t+(s.orderCount||0)}),0),this.totalAmountSum=t.reduce((function(t,s){return t+(s.totalAmount||0)}),0)},immediate:!0,deep:!0},storeOverview:{handler:function(){this.totalOrderCount=this.sortedStores.reduce((function(t,s){return t+(s.orderCount||0)}),0),this.totalAmountSum=this.sortedStores.reduce((function(t,s){return t+(s.totalAmount||0)}),0)},immediate:!0,deep:!0}},"storeOverview",{handler:function(t){t&&t.length&&t.forEach((function(t){t.kamUserId||(t.kamUserId="")}))},immediate:!0}),created:function(){this.debouncedKeyAccountManagerUpdate=Object(c.a)(this.keyAccountManagerUpdate,500)},mounted:function(){this.loadFiltersFromLocalStorage(),this.dateRange.from&&this.dateRange.to?this.applyDateRange():this.setToday(),this.setupTableScrollIndicators(),document.addEventListener("click",this.closeKamFilterDropdown),document.addEventListener("click",this.closeKamStatusFilterDropdown)},beforeDestroy:function(){window.removeEventListener("resize",this.setupTableScrollIndicators),document.removeEventListener("click",this.closeKamFilterDropdown),document.removeEventListener("click",this.closeKamStatusFilterDropdown)},methods:{setupTableScrollIndicators:function(){var t=this;this.$nextTick((function(){var e=document.querySelector(".overview__table-container");e&&(t.updateScrollIndicators(e),e.addEventListener("scroll",(function(){t.updateScrollIndicators(e)})),window.addEventListener("resize",(function(){t.updateScrollIndicators(e)})))}))},updateScrollIndicators:function(t){if(t)if(t.scrollWidth>t.clientWidth){var e=t.scrollLeft,o=t.scrollWidth-t.clientWidth;e>0?t.classList.add("scroll-left"):t.classList.remove("scroll-left"),e<o?t.classList.add("scroll-right"):t.classList.remove("scroll-right")}else t.classList.remove("scroll-left","scroll-right")},keyAccountManagerUpdate:function(t){this._storeService.KeyAccountManagerUpdate(t.storeId,{kamUserId:t.kamUserId,status:t.kamStatus,notes:t.kamNotes})},publishStore:function(t){var e=this;t.approved&&!confirm("Er du sikker på at du vil ta "+t.name+" offline?")||(this.publishingStoreIds.push(t.storeId),this._storeService.Publish(t.storeId,{publish:!t.approved}).then((function(){t.approved=!t.approved,e.publishingStoreIds=e.publishingStoreIds.filter((function(e){return e!==t.storeId})),e.loadOverview()})).catch((function(o){console.error("Error publishing store:",o),alert("Det oppstod en feil ved publisering av butikken."),e.publishingStoreIds=e.publishingStoreIds.filter((function(e){return e!==t.storeId}))})))},loadOverview:function(){var t=this;this.isLoading=!0,this._storeService.GetOverview({from:this.dateRange.from,to:this.dateRange.to}).then((function(data){t.storeOverview=data.stores,t.kams=data.kams,t.showKAMColumns=data.isKeyAccountManager})).finally((function(){t.isLoading=!1}))},sortBy:function(t){this.sortKey===t?this.sortOrder="asc"===this.sortOrder?"desc":"asc":(this.sortKey=t,this.sortOrder="asc"),this.saveFiltersToLocalStorage()},applyDateRange:function(){this.saveFiltersToLocalStorage(),this.loadOverview()},setToday:function(){var t=m()().format("YYYY-MM-DD");this.dateRange.from=t,this.dateRange.to=t,this.applyDateRange()},setThisMonth:function(){var t=m()().startOf("month").format("YYYY-MM-DD"),e=m()().format("YYYY-MM-DD");this.dateRange.from=t,this.dateRange.to=e,this.applyDateRange()},toggleKamFilter:function(t){var e=this.tempSelectedKamFilters.indexOf(t);-1!==e?this.tempSelectedKamFilters.splice(e,1):this.tempSelectedKamFilters.push(t),this.selectedKamFilters=Object(r.a)(this.tempSelectedKamFilters),this.saveFiltersToLocalStorage()},toggleKamStatusFilter:function(t){var e=this.tempSelectedKamStatusFilters.indexOf(t);-1!==e?this.tempSelectedKamStatusFilters.splice(e,1):this.tempSelectedKamStatusFilters.push(t),this.selectedKamStatusFilters=Object(r.a)(this.tempSelectedKamStatusFilters),this.saveFiltersToLocalStorage()},toggleKamFilterDropdown:function(t){t.stopPropagation(),this.showKamFilterDropdown=!this.showKamFilterDropdown,this.showKamFilterDropdown&&(this.tempSelectedKamFilters=0===this.selectedKamFilters.length?[""].concat(Object(r.a)(this.kams.map((function(t){return t.id})))):Object(r.a)(this.selectedKamFilters))},toggleKamStatusFilterDropdown:function(t){t.stopPropagation(),this.showKamStatusFilterDropdown=!this.showKamStatusFilterDropdown,this.showKamStatusFilterDropdown&&(this.tempSelectedKamStatusFilters=Object(r.a)(this.selectedKamStatusFilters))},closeKamFilterDropdown:function(t){!this.showKamFilterDropdown||t.target.closest(".filter-dropdown")||t.target.closest(".filter-icon")||(this.showKamFilterDropdown=!1)},closeKamStatusFilterDropdown:function(t){!this.showKamStatusFilterDropdown||t.target.closest(".filter-dropdown")||t.target.closest(".filter-icon")||(this.showKamStatusFilterDropdown=!1)},saveFiltersToLocalStorage:function(){try{localStorage.setItem("okam_overview_date_from",this.dateRange.from),localStorage.setItem("okam_overview_date_to",this.dateRange.to),localStorage.setItem("okam_overview_kam_filters",JSON.stringify(this.selectedKamFilters)),localStorage.setItem("okam_overview_kam_status_filters",JSON.stringify(this.selectedKamStatusFilters)),localStorage.setItem("okam_overview_sort_key",this.sortKey),localStorage.setItem("okam_overview_sort_order",this.sortOrder)}catch(t){console.error("Error saving filters to localStorage:",t)}},loadFiltersFromLocalStorage:function(){try{var t=localStorage.getItem("okam_overview_date_from"),e=localStorage.getItem("okam_overview_date_to");t&&e&&(this.dateRange.from=t,this.dateRange.to=e);var o=localStorage.getItem("okam_overview_kam_filters");o&&(this.selectedKamFilters=JSON.parse(o),this.tempSelectedKamFilters=Object(r.a)(this.selectedKamFilters));var n=localStorage.getItem("okam_overview_kam_status_filters");n&&(this.selectedKamStatusFilters=JSON.parse(n));var d=localStorage.getItem("okam_overview_sort_key"),l=localStorage.getItem("okam_overview_sort_order");d&&(this.sortKey=d),l&&(this.sortOrder=l)}catch(t){console.error("Error loading filters from localStorage:",t)}}}},_=(o(748),o(78)),component=Object(_.a)(h,(function(){var t=this,e=t._self._c;return e("AdminPage",{attrs:{"full-width":!0}},[e("div",{staticClass:"overview"},[e("div",{staticClass:"overview__content"},[e("div",{staticClass:"overview__filters"},[e("div",{staticClass:"overview__filter"},[e("div",{staticClass:"date-selection"},[e("div",{staticClass:"date-picker-wrapper"},[e("div",{staticClass:"date-input"},[e("label",[t._v("Fra dato:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dateRange.from,expression:"dateRange.from"}],attrs:{type:"date",max:t.dateRange.to},domProps:{value:t.dateRange.from},on:{change:t.applyDateRange,input:function(e){e.target.composing||t.$set(t.dateRange,"from",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"date-input"},[e("label",[t._v("Til dato:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dateRange.to,expression:"dateRange.to"}],attrs:{type:"date",min:t.dateRange.from},domProps:{value:t.dateRange.to},on:{change:t.applyDateRange,input:function(e){e.target.composing||t.$set(t.dateRange,"to",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"date-buttons"},[e("button",{staticClass:"date-button",on:{click:t.setToday}},[t._v("\n                  I dag\n                ")]),t._v(" "),e("button",{staticClass:"date-button",on:{click:t.setThisMonth}},[t._v("\n                  Denne måneden\n                ")]),t._v(" "),e("div",{staticClass:"loading-container"},[t.isLoading?e("Loading",{staticClass:"date-button-loading",attrs:{loading:!0}}):t._e()],1)])])])])]),t._v(" "),t.showKAMColumns&&t.sortedKams.length>0?e("div",{staticClass:"kam-leaderboard-container"},[e("h2",{staticClass:"kam-leaderboard-title"},[t._v("Bonus oversikt")]),t._v(" "),e("div",{staticClass:"kam-leaderboard-scroll"},t._l(t.sortedKams,(function(o,r){return e("div",{key:o.id,staticClass:"kam-card",class:{"kam-card--first":0===r&&o.onetimeBonusEarned>0,"kam-card--second":1===r&&o.onetimeBonusEarned>0,"kam-card--third":2===r&&o.onetimeBonusEarned>0,"kam-card--other":r>2||0===o.onetimeBonusEarned}},[e("div",{class:{"kam-card__rank":!0,"kam-card__rank--1":0===r&&o.onetimeBonusEarned>0,"kam-card__rank--2":1===r&&o.onetimeBonusEarned>0,"kam-card__rank--3":2===r&&o.onetimeBonusEarned>0}},[0===r&&o.onetimeBonusEarned>0?e("span",[t._v("🥇")]):1===r&&o.onetimeBonusEarned>0?e("span",[t._v("🥈")]):2===r&&o.onetimeBonusEarned>0?e("span",[t._v("🥉")]):e("span",[t._v(t._s(r+1))])]),t._v(" "),e("div",{staticClass:"kam-card__content"},[e("div",{staticClass:"kam-card__name"},[t._v("\n                "+t._s(o.name)+"\n              ")]),t._v(" "),e("div",{staticClass:"kam-card__earnings kam-card__earnings--highlight"},[e("div",{staticClass:"kam-card__earnings-label"},[t._v("Engangsbonus")]),t._v(" "),e("div",{staticClass:"kam-card__earnings-value"},[t._v(t._s(t.priceLabel(o.onetimeBonusEarned))+" kr")])]),t._v(" "),o.monthlyBonusEarned?e("div",{staticClass:"kam-card__earnings"},[e("div",{staticClass:"kam-card__earnings-label"},[t._v("Månedlig bonus")]),t._v(" "),e("div",{staticClass:"kam-card__earnings-value"},[t._v(t._s(t.priceLabel(o.monthlyBonusEarned))+" kr")])]):t._e()])])})),0)]):t._e(),t._v(" "),e("div",{staticClass:"overview__table-container"},[e("table",{staticClass:"overview__table"},[e("thead",[e("tr",[e("th",{staticClass:"sortable-header",on:{click:function(e){return t.sortBy("storeId")}}},[t._v("\n                ID\n                "),"storeId"===t.sortKey?e("span",{staticClass:"sort-icon"},[t._v("\n                  "+t._s("asc"===t.sortOrder?"▲":"▼")+"\n                ")]):t._e()]),t._v(" "),e("th",{staticClass:"sortable-header",on:{click:function(e){return t.sortBy("name")}}},[t._v("\n                Butikknavn\n                "),"name"===t.sortKey?e("span",{staticClass:"sort-icon"},[t._v("\n                  "+t._s("asc"===t.sortOrder?"▲":"▼")+"\n                ")]):t._e()]),t._v(" "),e("th",{staticClass:"sortable-header",on:{click:function(e){return t.sortBy("orderCount")}}},[t._v("\n                Bestillinger\n                "),"orderCount"===t.sortKey?e("span",{staticClass:"sort-icon"},[t._v("\n                  "+t._s("asc"===t.sortOrder?"▲":"▼")+"\n                ")]):t._e()]),t._v(" "),e("th",{staticClass:"sortable-header",on:{click:function(e){return t.sortBy("totalAmount")}}},[t._v("\n                Total beløp\n                "),"totalAmount"===t.sortKey?e("span",{staticClass:"sort-icon"},[t._v("\n                  "+t._s("asc"===t.sortOrder?"▲":"▼")+"\n                ")]):t._e()]),t._v(" "),t.showKAMColumns?e("th",{staticClass:"sortable-header",on:{click:function(e){return t.sortBy("approved")}}},[t._v("\n                Status\n                "),"approved"===t.sortKey?e("span",{staticClass:"sort-icon"},[t._v("\n                  "+t._s("asc"===t.sortOrder?"▲":"▼")+"\n                ")]):t._e()]):t._e(),t._v(" "),t.showKAMColumns?e("th",{staticClass:"sortable-header",on:{click:function(e){return t.sortBy("kamUserId")}}},[t._v("\n                KAM\n                "),"kamUserId"===t.sortKey?e("span",{staticClass:"sort-icon"},[t._v("\n                  "+t._s("asc"===t.sortOrder?"▲":"▼")+"\n                ")]):t._e(),t._v(" "),e("span",{staticClass:"filter-icon",class:{active:t.selectedKamFilters.length>0&&t.selectedKamFilters.length<t.kams.length+1},on:{click:function(e){return e.stopPropagation(),t.toggleKamFilterDropdown.apply(null,arguments)}}},[e("svg",{staticClass:"filter-icon-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("polygon",{attrs:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}})]),t._v(" "),t.showKamFilterDropdown?e("div",{staticClass:"filter-dropdown",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"filter-dropdown-options"},[e("label",[e("input",{attrs:{type:"checkbox",value:""},domProps:{checked:0===t.tempSelectedKamFilters.length||t.tempSelectedKamFilters.includes("")},on:{change:function(e){return t.toggleKamFilter("")}}}),t._v(" "),e("span",[t._v("Ingen")])]),t._v(" "),t._l(t.kams,(function(o){return e("label",{key:o.id},[e("input",{attrs:{type:"checkbox"},domProps:{value:o.id,checked:0===t.tempSelectedKamFilters.length||t.tempSelectedKamFilters.includes(o.id)},on:{change:function(e){return t.toggleKamFilter(o.id)}}}),t._v(" "),e("span",[t._v(t._s(o.name))])])}))],2)]):t._e()])]):t._e(),t._v(" "),t.showKAMColumns?e("th",{staticClass:"sortable-header",on:{click:function(e){return t.sortBy("kamStatus")}}},[t._v("\n                KAM Status\n                "),"kamStatus"===t.sortKey?e("span",{staticClass:"sort-icon"},[t._v("\n                  "+t._s("asc"===t.sortOrder?"▲":"▼")+"\n                ")]):t._e(),t._v(" "),e("span",{staticClass:"info-icon",on:{click:function(t){t.stopPropagation()}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),t._v(" "),e("line",{attrs:{x1:"12",y1:"16",x2:"12",y2:"12"}}),t._v(" "),e("line",{attrs:{x1:"12",y1:"8",x2:"12.01",y2:"8"}})]),t._v(" "),e("div",{staticClass:"status-info-tooltip"},[e("h4",[t._v("KAM Status forklaringer:")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Mangler oppsett:")]),t._v(" Meny, bilder eller andre detaljer mangler")]),t._v(" "),e("li",[e("strong",[t._v("Klar for demo:")]),t._v(" Butikken er klar til å bli demonstrert")]),t._v(" "),e("li",[e("strong",[t._v("Venter på kundesvar:")]),t._v(" Vi venter på tilbakemelding fra kunden")]),t._v(" "),e("li",[e("strong",[t._v("Krever oppfølging:")]),t._v(" Kunden venter på oss eller bør følges opp")]),t._v(" "),e("li",[e("strong",[t._v("I drift:")]),t._v(" Butikken er i gang og bruker Okam")]),t._v(" "),e("li",[e("strong",[t._v("Slettet:")]),t._v(" Butikken er ikke i bruk")])])])]),t._v(" "),e("span",{staticClass:"filter-icon",class:{active:t.selectedKamStatusFilters.length>0},on:{click:function(e){return e.stopPropagation(),t.toggleKamStatusFilterDropdown.apply(null,arguments)}}},[e("svg",{staticClass:"filter-icon-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("polygon",{attrs:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}})]),t._v(" "),t.showKamStatusFilterDropdown?e("div",{staticClass:"filter-dropdown",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"filter-dropdown-options"},t._l(t.kamStatusTranslations,(function(o,r){return e("label",{key:r},[e("input",{attrs:{type:"checkbox"},domProps:{value:r,checked:t.tempSelectedKamStatusFilters.includes(r)},on:{change:function(e){return t.toggleKamStatusFilter(r)}}}),t._v(" "),e("span",[t._v(t._s(o))])])})),0)]):t._e()])]):t._e(),t._v(" "),t.showKAMColumns?e("th",[t._v("KAM Notater")]):t._e(),t._v(" "),e("th",{staticClass:"sortable-header"},[t._v("Admin")])])]),t._v(" "),e("tbody",[t._l(t.sortedStores,(function(o){return e("tr",{key:o.storeId},[e("td",[t._v(t._s(o.storeId))]),t._v(" "),e("td",[o.storeId&&o.approved?e("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://shop.okam.no/store?id=".concat(o.storeId),target:"_blank"}},[t._v(t._s(o.name)+"\n                ")]):e("span",[t._v(t._s(o.name))])]),t._v(" "),e("td",[t._v(t._s(o.orderCount))]),t._v(" "),e("td",[t._v(t._s(t.priceLabel(o.totalAmount)))]),t._v(" "),t.showKAMColumns?e("td",[e("span",{class:{"status-badge":!0,"status-badge--approved":o.approved,"status-badge--pending":!o.approved},on:{click:function(e){return t.publishStore(o)}}},[t.publishingStoreIds.includes(o.storeId)?e("span",{staticClass:"status-spinner"}):e("span",[t._v(t._s(o.approved?"Publisert":"Ikke publisert"))])])]):t._e(),t._v(" "),t.showKAMColumns?e("td",[e("select",{directives:[{name:"model",rawName:"v-model",value:o.kamUserId,expression:"store.kamUserId"}],staticClass:"kam-input",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(o,"kamUserId",e.target.multiple?r:r[0])},function(e){return t.debouncedKeyAccountManagerUpdate(o)}]}},[e("option",{attrs:{value:""}},[t._v("Ingen")]),t._v(" "),t._l(t.kams,(function(o){return e("option",{key:o.id,domProps:{value:o.id}},[t._v("\n                    "+t._s(o.name)+" ("+t._s(o.phoneNumber)+")\n                  ")])}))],2)]):t._e(),t._v(" "),t.showKAMColumns?e("td",[e("select",{directives:[{name:"model",rawName:"v-model",value:o.kamStatus,expression:"store.kamStatus"}],staticClass:"kam-status-dropdown",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(o,"kamStatus",e.target.multiple?r:r[0])},function(e){return t.debouncedKeyAccountManagerUpdate(o)}]}},t._l(t.kamStatusTranslations,(function(o,r){return e("option",{key:r,domProps:{value:r}},[t._v("\n                    "+t._s(o)+"\n                  ")])})),0)]):t._e(),t._v(" "),t.showKAMColumns?e("td",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:o.kamNotes,expression:"store.kamNotes"}],staticClass:"kam-textarea",attrs:{placeholder:"Notater"},domProps:{value:o.kamNotes},on:{input:[function(e){e.target.composing||t.$set(o,"kamNotes",e.target.value)},function(e){return t.debouncedKeyAccountManagerUpdate(o)}]}})]):t._e(),t._v(" "),e("td",[t._v(t._s(o.firstAdmin))])])})),t._v(" "),0!==t.sortedStores.length||t.isLoading?t._e():e("tr",[e("td",{staticClass:"overview__empty",attrs:{colspan:t.showKAMColumns?9:5}},[t._v("\n                Ingen butikker funnet\n              ")])]),t._v(" "),t.sortedStores.length>0?e("tr",[e("td"),t._v(" "),e("td",{staticStyle:{"font-weight":"bold"}},[t._v("Sum:")]),t._v(" "),e("td",{staticStyle:{"font-weight":"bold"}},[t._v("\n                "+t._s(t.totalOrderCount)+"\n              ")]),t._v(" "),e("td",{staticStyle:{"font-weight":"bold"}},[t._v("\n                "+t._s(t.priceLabel(t.totalAmountSum))+"\n              ")]),t._v(" "),t.showKAMColumns?e("td",{attrs:{colspan:"5"}}):e("td")]):t._e()],2)])])])])])}),[],!1,null,"f23cdf84",null);e.default=component.exports}}]);